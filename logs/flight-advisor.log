2020-05-31 10:53:55.241  INFO 8338 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 8338 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 10:53:55.247 DEBUG 8338 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 10:53:55.247  INFO 8338 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 10:53:56.311  INFO 8338 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 10:53:56.369  INFO 8338 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51ms. Found 6 JPA repository interfaces.
2020-05-31 10:53:56.606  INFO 8338 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2af46afd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 10:53:56.611  INFO 8338 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 10:53:56.815  INFO 8338 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 10:53:56.821  INFO 8338 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 10:53:56.822  INFO 8338 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 10:53:56.899  INFO 8338 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 10:53:56.899  INFO 8338 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1610 ms
2020-05-31 10:53:57.008  INFO 8338 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 10:53:57.102  INFO 8338 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 10:53:57.106  INFO 8338 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 10:53:57.328  INFO 8338 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 10:53:57.372  INFO 8338 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 10:53:57.493  INFO 8338 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 10:53:57.578  INFO 8338 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 10:53:58.112  INFO 8338 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 10:53:58.116  INFO 8338 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 10:53:58.191  WARN 8338 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 10:53:58.762  INFO 8338 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 10:53:58.850  INFO 8338 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 10:53:58.850  INFO 8338 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 10:53:58.850  INFO 8338 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 10:53:58.850  INFO 8338 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 10:53:58.872  INFO 8338 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6802d023, org.springframework.security.web.context.SecurityContextPersistenceFilter@71eff6a3, org.springframework.security.web.header.HeaderWriterFilter@4f2544b0, org.springframework.security.web.authentication.logout.LogoutFilter@78743dd8, com.miro.flightadvisor.security.services.JwtTokenFilter@e895e3e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@735988cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13662609, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77476fcf, org.springframework.security.web.session.SessionManagementFilter@ecf028c, org.springframework.security.web.access.ExceptionTranslationFilter@26679788, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8ce3f27]
2020-05-31 10:53:58.888  INFO 8338 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 10:53:58.900  INFO 8338 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 10:53:58.900  INFO 8338 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 10:53:59.164  INFO 8338 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 10:53:59.165  INFO 8338 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 10:53:59.174  INFO 8338 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 10:53:59.203  INFO 8338 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 10:53:59.459  INFO 8338 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 10:53:59.460  INFO 8338 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 10:53:59.478  INFO 8338 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 10:53:59.653  INFO 8338 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 10:53:59.663  INFO 8338 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.717 seconds (JVM running for 5.332)
2020-05-31 10:53:59.942  INFO 8338 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 10:53:59.943  INFO 8338 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 10:53:59.950  INFO 8338 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 10:54:24.040  INFO 8338 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:54:24.090  INFO 8338 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 10:54:24.132 ERROR 8338 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpServerErrorException: 403 LoginBean Failed] with root cause

org.springframework.web.client.HttpServerErrorException: 403 LoginBean Failed
	at com.miro.flightadvisor.security.controllers.UserController.lambda$login$0(UserController.java:29)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at com.miro.flightadvisor.security.controllers.UserController.login(UserController.java:28)
	at com.miro.flightadvisor.security.controllers.UserController$$FastClassBySpringCGLIB$$f7e8c766.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.miro.flightadvisor.security.controllers.UserController$$EnhancerBySpringCGLIB$$1b70b209.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.miro.flightadvisor.security.services.JwtTokenFilter.doFilter(JwtTokenFilter.java:58)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2020-05-31 10:54:24.136  INFO 8338 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:55:25.921  INFO 8338 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 10:55:25.923  INFO 8338 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 10:55:25.924  INFO 8338 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 10:55:25.929  INFO 8338 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 10:55:25.931  INFO 8338 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 10:55:46.355  INFO 9193 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 9193 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 10:55:46.357 DEBUG 9193 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 10:55:46.358  INFO 9193 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 10:55:47.302  INFO 9193 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 10:55:47.348  INFO 9193 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40ms. Found 6 JPA repository interfaces.
2020-05-31 10:55:47.557  INFO 9193 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1d5d5621' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 10:55:47.563  INFO 9193 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 10:55:47.737  INFO 9193 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 10:55:47.743  INFO 9193 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 10:55:47.744  INFO 9193 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 10:55:47.809  INFO 9193 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 10:55:47.809  INFO 9193 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1414 ms
2020-05-31 10:55:47.918  INFO 9193 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 10:55:47.986  INFO 9193 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 10:55:47.990  INFO 9193 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 10:55:48.197  INFO 9193 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 10:55:48.222  INFO 9193 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 10:55:48.283  INFO 9193 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 10:55:48.337  INFO 9193 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 10:55:48.767  INFO 9193 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 10:55:48.771  INFO 9193 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 10:55:48.836  WARN 9193 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 10:55:49.361  INFO 9193 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 10:55:49.449  INFO 9193 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 10:55:49.449  INFO 9193 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 10:55:49.449  INFO 9193 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 10:55:49.449  INFO 9193 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 10:55:49.474  INFO 9193 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23f8036d, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c1bebca, org.springframework.security.web.header.HeaderWriterFilter@56402642, org.springframework.security.web.authentication.logout.LogoutFilter@1d7f7962, com.miro.flightadvisor.security.services.JwtTokenFilter@68f69ca3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26c6288d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a7ae340, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e3566e, org.springframework.security.web.session.SessionManagementFilter@2986427e, org.springframework.security.web.access.ExceptionTranslationFilter@1a4cbcc6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72237be8]
2020-05-31 10:55:49.491  INFO 9193 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 10:55:49.505  INFO 9193 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 10:55:49.505  INFO 9193 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 10:55:49.793  INFO 9193 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 10:55:49.794  INFO 9193 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 10:55:49.804  INFO 9193 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 10:55:49.835  INFO 9193 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 10:55:50.095  INFO 9193 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 10:55:50.096  INFO 9193 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 10:55:50.114  INFO 9193 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 10:55:50.292  INFO 9193 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 10:55:50.301  INFO 9193 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.224 seconds (JVM running for 4.744)
2020-05-31 10:55:50.577  INFO 9193 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 10:55:50.577  INFO 9193 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 10:55:50.584  INFO 9193 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 10:55:55.296  INFO 9193 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:55:55.342  INFO 9193 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 10:55:55.369 ERROR 9193 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause

java.util.NoSuchElementException: No value present
	at java.util.Optional.get(Optional.java:135)
	at com.miro.flightadvisor.security.controllers.UserController.login(UserController.java:28)
	at com.miro.flightadvisor.security.controllers.UserController$$FastClassBySpringCGLIB$$f7e8c766.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.miro.flightadvisor.security.controllers.UserController$$EnhancerBySpringCGLIB$$454b7c32.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.miro.flightadvisor.security.services.JwtTokenFilter.doFilter(JwtTokenFilter.java:58)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2020-05-31 10:55:55.373  INFO 9193 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:55:58.179  INFO 9193 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:55:58.180  INFO 9193 --- [http-nio-8080-exec-4] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 10:55:58.182 ERROR 9193 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause

java.util.NoSuchElementException: No value present
	at java.util.Optional.get(Optional.java:135)
	at com.miro.flightadvisor.security.controllers.UserController.login(UserController.java:28)
	at com.miro.flightadvisor.security.controllers.UserController$$FastClassBySpringCGLIB$$f7e8c766.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.miro.flightadvisor.security.controllers.UserController$$EnhancerBySpringCGLIB$$454b7c32.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.miro.flightadvisor.security.services.JwtTokenFilter.doFilter(JwtTokenFilter.java:58)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2020-05-31 10:55:58.184  INFO 9193 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:57:21.573  INFO 9193 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 10:57:21.576  INFO 9193 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 10:57:21.576  INFO 9193 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 10:57:21.582  INFO 9193 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 10:57:21.585  INFO 9193 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 10:59:44.251  INFO 9868 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 9868 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 10:59:44.253 DEBUG 9868 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 10:59:44.254  INFO 9868 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 10:59:45.157  INFO 9868 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 10:59:45.207  INFO 9868 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 JPA repository interfaces.
2020-05-31 10:59:45.449  INFO 9868 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@50756c76' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 10:59:45.454  INFO 9868 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 10:59:45.608  INFO 9868 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 10:59:45.613  INFO 9868 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 10:59:45.614  INFO 9868 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 10:59:45.673  INFO 9868 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 10:59:45.674  INFO 9868 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1383 ms
2020-05-31 10:59:45.785  INFO 9868 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 10:59:45.859  INFO 9868 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 10:59:45.863  INFO 9868 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 10:59:46.090  INFO 9868 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 10:59:46.118  INFO 9868 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 10:59:46.182  INFO 9868 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 10:59:46.234  INFO 9868 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 10:59:46.656  INFO 9868 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 10:59:46.660  INFO 9868 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 10:59:46.722  WARN 9868 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 10:59:47.251  INFO 9868 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 10:59:47.336  INFO 9868 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 10:59:47.336  INFO 9868 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 10:59:47.336  INFO 9868 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 10:59:47.336  INFO 9868 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 10:59:47.360  INFO 9868 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cf88901, org.springframework.security.web.context.SecurityContextPersistenceFilter@23f8036d, org.springframework.security.web.header.HeaderWriterFilter@26bce60d, org.springframework.security.web.authentication.logout.LogoutFilter@3e998033, com.miro.flightadvisor.security.services.JwtTokenFilter@4780341, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e3566e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@688d2a5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c910acd, org.springframework.security.web.session.SessionManagementFilter@72237be8, org.springframework.security.web.access.ExceptionTranslationFilter@26a9c6df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45790cb]
2020-05-31 10:59:47.377  INFO 9868 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 10:59:47.391  INFO 9868 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 10:59:47.392  INFO 9868 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 10:59:47.687  INFO 9868 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 10:59:47.688  INFO 9868 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 10:59:47.698  INFO 9868 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 10:59:47.730  INFO 9868 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 10:59:47.995  INFO 9868 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 10:59:47.997  INFO 9868 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 10:59:48.015  INFO 9868 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 10:59:48.192  INFO 9868 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 10:59:48.201  INFO 9868 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.22 seconds (JVM running for 4.781)
2020-05-31 10:59:48.339  INFO 9868 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 10:59:48.339  INFO 9868 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 10:59:48.346  INFO 9868 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 10:59:51.502  INFO 9868 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 10:59:51.547  INFO 9868 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:01:24.517  INFO 9868 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:01:24.520  INFO 9868 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:01:24.520  INFO 9868 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:01:24.526  INFO 9868 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:01:24.528  INFO 9868 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:01:28.039  INFO 10382 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 10382 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:01:28.042 DEBUG 10382 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:01:28.043  INFO 10382 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:01:28.937  INFO 10382 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:01:28.984  INFO 10382 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 6 JPA repository interfaces.
2020-05-31 11:01:29.187  INFO 10382 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4f668f29' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:01:29.191  INFO 10382 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:01:29.341  INFO 10382 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:01:29.346  INFO 10382 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:01:29.346  INFO 10382 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:01:29.396  INFO 10382 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:01:29.397  INFO 10382 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1313 ms
2020-05-31 11:01:29.510  INFO 10382 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:01:29.574  INFO 10382 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:01:29.577  INFO 10382 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:01:29.788  INFO 10382 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:01:29.812  INFO 10382 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:01:29.874  INFO 10382 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:01:29.926  INFO 10382 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:01:30.340  INFO 10382 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:01:30.344  INFO 10382 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:01:30.410  WARN 10382 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:01:30.979  INFO 10382 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:01:31.085  INFO 10382 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:01:31.085  INFO 10382 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:01:31.085  INFO 10382 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:01:31.085  INFO 10382 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:01:31.109  INFO 10382 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7109b603, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f6ff62, org.springframework.security.web.header.HeaderWriterFilter@85cd413, org.springframework.security.web.authentication.logout.LogoutFilter@65a4b9d6, com.miro.flightadvisor.security.services.JwtTokenFilter@76b642aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@651caa2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e998033, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29b5e7db, org.springframework.security.web.session.SessionManagementFilter@7e20f4e3, org.springframework.security.web.access.ExceptionTranslationFilter@14ca88bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6866e740]
2020-05-31 11:01:31.125  INFO 10382 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:01:31.137  INFO 10382 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:01:31.138  INFO 10382 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:01:31.404  INFO 10382 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:01:31.405  INFO 10382 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:01:31.413  INFO 10382 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:01:31.440  INFO 10382 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:01:31.715  INFO 10382 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:01:31.716  INFO 10382 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:01:31.734  INFO 10382 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:01:31.909  INFO 10382 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:01:31.918  INFO 10382 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.237 seconds (JVM running for 4.789)
2020-05-31 11:01:32.165  INFO 10382 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:01:32.165  INFO 10382 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:01:32.173  INFO 10382 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-05-31 11:01:35.390  INFO 10382 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:01:35.438  INFO 10382 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:02:10.890  INFO 10382 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:02:10.894  INFO 10382 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:02:10.895  INFO 10382 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:02:10.901  INFO 10382 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:02:10.904  INFO 10382 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:02:14.462  INFO 10886 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 10886 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:02:14.464 DEBUG 10886 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:02:14.465  INFO 10886 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:02:15.424  INFO 10886 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:02:15.477  INFO 10886 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 JPA repository interfaces.
2020-05-31 11:02:15.697  INFO 10886 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@690bc15e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:02:15.702  INFO 10886 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:02:15.863  INFO 10886 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:02:15.869  INFO 10886 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:02:15.870  INFO 10886 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:02:15.933  INFO 10886 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:02:15.933  INFO 10886 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1433 ms
2020-05-31 11:02:16.047  INFO 10886 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:02:16.128  INFO 10886 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:02:16.133  INFO 10886 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:02:16.370  INFO 10886 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:02:16.397  INFO 10886 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:02:16.472  INFO 10886 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:02:16.536  INFO 10886 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:02:17.056  INFO 10886 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:02:17.060  INFO 10886 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:02:17.127  WARN 10886 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:02:17.669  INFO 10886 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:02:17.763  INFO 10886 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:02:17.763  INFO 10886 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:02:17.763  INFO 10886 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:02:17.763  INFO 10886 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:02:17.790  INFO 10886 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2842c098, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e8bd498, org.springframework.security.web.header.HeaderWriterFilter@752494dd, org.springframework.security.web.authentication.logout.LogoutFilter@6802d023, com.miro.flightadvisor.security.services.JwtTokenFilter@2820b369, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59a2bed1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49925d21, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46b21632, org.springframework.security.web.session.SessionManagementFilter@35cbeb54, org.springframework.security.web.access.ExceptionTranslationFilter@6d7e2795, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@85cd413]
2020-05-31 11:02:17.808  INFO 10886 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:02:17.823  INFO 10886 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:02:17.824  INFO 10886 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:02:18.120  INFO 10886 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:02:18.121  INFO 10886 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:02:18.131  INFO 10886 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:02:18.161  INFO 10886 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:02:18.432  INFO 10886 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:02:18.433  INFO 10886 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:02:18.451  INFO 10886 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:02:18.631  INFO 10886 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:02:18.641  INFO 10886 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.442 seconds (JVM running for 4.952)
2020-05-31 11:02:19.068  INFO 10886 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:02:19.068  INFO 10886 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:02:19.075  INFO 10886 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:02:22.110  INFO 10886 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:02:22.158  INFO 10886 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:03:13.195  INFO 10886 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:03:13.197  INFO 10886 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:03:13.198  INFO 10886 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:03:13.203  INFO 10886 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:03:13.205  INFO 10886 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:03:16.518  INFO 11374 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 11374 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:03:16.521 DEBUG 11374 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:03:16.521  INFO 11374 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:03:17.490  INFO 11374 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:03:17.553  INFO 11374 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56ms. Found 6 JPA repository interfaces.
2020-05-31 11:03:17.781  INFO 11374 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@73d3e555' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:03:17.785  INFO 11374 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:03:17.942  INFO 11374 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:03:17.948  INFO 11374 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:03:17.948  INFO 11374 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:03:18.011  INFO 11374 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:03:18.012  INFO 11374 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1459 ms
2020-05-31 11:03:18.127  INFO 11374 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:03:18.198  INFO 11374 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:03:18.202  INFO 11374 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:03:18.416  INFO 11374 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:03:18.440  INFO 11374 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:03:18.500  INFO 11374 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:03:18.549  INFO 11374 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:03:18.960  INFO 11374 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:03:18.964  INFO 11374 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:03:19.027  WARN 11374 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:03:19.543  INFO 11374 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:03:19.626  INFO 11374 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:03:19.626  INFO 11374 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:03:19.626  INFO 11374 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:03:19.626  INFO 11374 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:03:19.650  INFO 11374 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@615c4ea4, org.springframework.security.web.context.SecurityContextPersistenceFilter@5358c8fa, org.springframework.security.web.header.HeaderWriterFilter@6ef4297d, org.springframework.security.web.authentication.logout.LogoutFilter@46ee7013, com.miro.flightadvisor.security.services.JwtTokenFilter@417446d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58b3eb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c1bebca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34070bd2, org.springframework.security.web.session.SessionManagementFilter@1d5048d1, org.springframework.security.web.access.ExceptionTranslationFilter@27a0e6ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e9d7366]
2020-05-31 11:03:19.667  INFO 11374 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:03:19.681  INFO 11374 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:03:19.682  INFO 11374 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:03:19.969  INFO 11374 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:03:19.970  INFO 11374 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:03:19.980  INFO 11374 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:03:20.012  INFO 11374 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:03:20.274  INFO 11374 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:03:20.275  INFO 11374 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:03:20.292  INFO 11374 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:03:20.468  INFO 11374 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:03:20.477  INFO 11374 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.194 seconds (JVM running for 4.636)
2020-05-31 11:03:20.771  INFO 11374 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:03:20.771  INFO 11374 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:03:20.780  INFO 11374 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-05-31 11:03:23.825  INFO 11374 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:03:23.870  INFO 11374 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:03:54.463  INFO 11374 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:03:54.466  INFO 11374 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:03:54.466  INFO 11374 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:03:54.472  INFO 11374 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:03:54.474  INFO 11374 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:03:57.707  INFO 11848 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 11848 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:03:57.709 DEBUG 11848 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:03:57.710  INFO 11848 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:03:58.632  INFO 11848 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:03:58.682  INFO 11848 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 JPA repository interfaces.
2020-05-31 11:03:58.881  INFO 11848 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@43e1692f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:03:58.886  INFO 11848 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:03:59.036  INFO 11848 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:03:59.043  INFO 11848 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:03:59.043  INFO 11848 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:03:59.101  INFO 11848 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:03:59.102  INFO 11848 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1357 ms
2020-05-31 11:03:59.210  INFO 11848 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:03:59.286  INFO 11848 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:03:59.290  INFO 11848 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:03:59.525  INFO 11848 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:03:59.551  INFO 11848 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:03:59.616  INFO 11848 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:03:59.674  INFO 11848 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:04:00.117  INFO 11848 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:04:00.122  INFO 11848 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:04:00.184  WARN 11848 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:04:00.700  INFO 11848 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:04:00.788  INFO 11848 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:04:00.788  INFO 11848 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:04:00.788  INFO 11848 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:04:00.788  INFO 11848 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:04:00.813  INFO 11848 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@460e5ffe, org.springframework.security.web.context.SecurityContextPersistenceFilter@1818390b, org.springframework.security.web.header.HeaderWriterFilter@5724c7da, org.springframework.security.web.authentication.logout.LogoutFilter@3684d2c0, com.miro.flightadvisor.security.services.JwtTokenFilter@1a4cbcc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ef4aceb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14b48f39, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cecab19, org.springframework.security.web.session.SessionManagementFilter@3a988299, org.springframework.security.web.access.ExceptionTranslationFilter@3dc2f14, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45d46254]
2020-05-31 11:04:00.832  INFO 11848 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:04:00.847  INFO 11848 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:04:00.847  INFO 11848 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:04:01.134  INFO 11848 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:04:01.135  INFO 11848 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:04:01.144  INFO 11848 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:04:01.174  INFO 11848 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:04:01.429  INFO 11848 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:04:01.430  INFO 11848 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:04:01.448  INFO 11848 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:04:01.624  INFO 11848 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:04:01.633  INFO 11848 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.197 seconds (JVM running for 4.638)
2020-05-31 11:04:01.918  INFO 11848 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:04:01.919  INFO 11848 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:04:01.926  INFO 11848 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:04:04.892  INFO 11848 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:04:04.943  INFO 11848 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:05:14.761  INFO 11848 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:05:14.765  INFO 11848 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:05:14.765  INFO 11848 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:05:14.771  INFO 11848 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:05:14.773  INFO 11848 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:05:18.183  INFO 12332 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 12332 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:05:18.185 DEBUG 12332 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:05:18.185  INFO 12332 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:05:19.277  INFO 12332 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:05:19.371  INFO 12332 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87ms. Found 6 JPA repository interfaces.
2020-05-31 11:05:19.647  INFO 12332 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@35f639fa' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:05:19.651  INFO 12332 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:05:19.810  INFO 12332 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:05:19.816  INFO 12332 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:05:19.816  INFO 12332 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:05:19.869  INFO 12332 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:05:19.869  INFO 12332 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1652 ms
2020-05-31 11:05:19.981  INFO 12332 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:05:20.049  INFO 12332 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:05:20.054  INFO 12332 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:05:20.283  INFO 12332 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:05:20.308  INFO 12332 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:05:20.371  INFO 12332 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:05:20.428  INFO 12332 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:05:20.438  WARN 12332 --- [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000341: Could not obtain connection metadata : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 11:05:20.438  INFO 12332 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:05:23.718  INFO 12731 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 12731 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:05:23.721 DEBUG 12731 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:05:23.722  INFO 12731 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:05:24.717  INFO 12731 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:05:24.768  INFO 12731 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 JPA repository interfaces.
2020-05-31 11:05:24.973  INFO 12731 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70c0a3d5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:05:24.977  INFO 12731 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:05:25.134  INFO 12731 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:05:25.140  INFO 12731 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:05:25.140  INFO 12731 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:05:25.221  INFO 12731 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:05:25.222  INFO 12731 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1459 ms
2020-05-31 11:05:25.353  INFO 12731 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:05:25.432  INFO 12731 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:05:25.437  INFO 12731 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:05:25.647  INFO 12731 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:05:25.674  INFO 12731 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:05:25.738  INFO 12731 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:05:25.794  INFO 12731 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:05:26.222  INFO 12731 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:05:26.226  INFO 12731 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:05:26.296  WARN 12731 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:05:26.870  INFO 12731 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:05:26.960  INFO 12731 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:05:26.960  INFO 12731 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:05:26.960  INFO 12731 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:05:26.960  INFO 12731 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:05:26.986  INFO 12731 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35d88a54, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ab9c735, org.springframework.security.web.header.HeaderWriterFilter@7ef4aceb, org.springframework.security.web.authentication.logout.LogoutFilter@41ec4271, com.miro.flightadvisor.security.services.JwtTokenFilter@6c1bebca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@464a3430, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16d4024e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d4818e8, org.springframework.security.web.session.SessionManagementFilter@31433df9, org.springframework.security.web.access.ExceptionTranslationFilter@1818390b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@752494dd]
2020-05-31 11:05:27.003  INFO 12731 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:05:27.017  INFO 12731 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:05:27.017  INFO 12731 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:05:27.318  INFO 12731 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:05:27.319  INFO 12731 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:05:27.328  INFO 12731 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:05:27.359  INFO 12731 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:05:27.615  INFO 12731 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:05:27.616  INFO 12731 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:05:27.634  INFO 12731 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:05:27.809  INFO 12731 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:05:27.819  INFO 12731 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.341 seconds (JVM running for 4.774)
2020-05-31 11:05:28.315  INFO 12731 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:05:28.316  INFO 12731 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:05:28.327  INFO 12731 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:05:31.503  INFO 12731 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:05:31.547  INFO 12731 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:06:23.142  INFO 12731 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:06:23.145  INFO 12731 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:06:23.145  INFO 12731 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:06:23.151  INFO 12731 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:06:23.154  INFO 12731 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:06:26.924  INFO 13220 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 13220 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:06:26.926 DEBUG 13220 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:06:26.927  INFO 13220 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:06:27.940  INFO 13220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:06:28.020  INFO 13220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 6 JPA repository interfaces.
2020-05-31 11:06:28.260  INFO 13220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@242a209e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:06:28.265  INFO 13220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:06:28.418  INFO 13220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:06:28.424  INFO 13220 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:06:28.424  INFO 13220 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:06:28.478  INFO 13220 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:06:28.479  INFO 13220 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1507 ms
2020-05-31 11:06:28.586  INFO 13220 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:06:28.656  INFO 13220 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:06:28.660  INFO 13220 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:06:28.883  INFO 13220 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:06:28.908  INFO 13220 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:06:28.970  INFO 13220 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:06:29.022  INFO 13220 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:06:29.424  INFO 13220 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:06:29.428  INFO 13220 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:06:29.488  WARN 13220 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:06:29.998  INFO 13220 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:06:30.083  INFO 13220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:06:30.084  INFO 13220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:06:30.084  INFO 13220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:06:30.084  INFO 13220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:06:30.108  INFO 13220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d3eecda, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e8986b6, org.springframework.security.web.header.HeaderWriterFilter@6cb194f5, org.springframework.security.web.authentication.logout.LogoutFilter@1ab9c735, com.miro.flightadvisor.security.services.JwtTokenFilter@236a4d30, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ad2883a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73d83141, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@736788b, org.springframework.security.web.session.SessionManagementFilter@21698e5a, org.springframework.security.web.access.ExceptionTranslationFilter@4ff9f715, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@574218f]
2020-05-31 11:06:30.125  INFO 13220 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:06:30.139  INFO 13220 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:06:30.139  INFO 13220 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:06:30.430  INFO 13220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:06:30.431  INFO 13220 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:06:30.441  INFO 13220 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:06:30.472  INFO 13220 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:06:30.730  INFO 13220 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:06:30.732  INFO 13220 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:06:30.749  INFO 13220 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:06:30.925  INFO 13220 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:06:30.935  INFO 13220 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.313 seconds (JVM running for 4.902)
2020-05-31 11:06:31.399  INFO 13220 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:06:31.400  INFO 13220 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:06:31.406  INFO 13220 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:06:34.252  INFO 13220 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:06:34.299  INFO 13220 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:06:48.970  INFO 13220 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:06:48.972  INFO 13220 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:07:05.825  INFO 13220 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:07:05.827  INFO 13220 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:07:05.827  INFO 13220 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:07:05.833  INFO 13220 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:07:05.835  INFO 13220 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:07:09.071  INFO 13681 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 13681 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:07:09.073 DEBUG 13681 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:07:09.073  INFO 13681 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:07:10.040  INFO 13681 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:07:10.093  INFO 13681 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 JPA repository interfaces.
2020-05-31 11:07:10.297  INFO 13681 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2ec3633f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:07:10.302  INFO 13681 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:07:10.450  INFO 13681 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:07:10.455  INFO 13681 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:07:10.455  INFO 13681 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:07:10.503  INFO 13681 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:07:10.503  INFO 13681 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1395 ms
2020-05-31 11:07:10.603  INFO 13681 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:07:10.668  INFO 13681 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:07:10.672  INFO 13681 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:07:10.878  INFO 13681 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:07:10.903  INFO 13681 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:07:10.962  INFO 13681 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:07:11.013  INFO 13681 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:07:11.418  INFO 13681 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:07:11.423  INFO 13681 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:07:11.485  WARN 13681 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:07:11.974  INFO 13681 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:07:12.057  INFO 13681 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:07:12.058  INFO 13681 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:07:12.058  INFO 13681 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:07:12.058  INFO 13681 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:07:12.081  INFO 13681 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4805069b, org.springframework.security.web.context.SecurityContextPersistenceFilter@644b68ad, org.springframework.security.web.header.HeaderWriterFilter@5358c8fa, org.springframework.security.web.authentication.logout.LogoutFilter@3e8afc2d, com.miro.flightadvisor.security.services.JwtTokenFilter@14ca88bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e2c627e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49f2646, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f01fc6d, org.springframework.security.web.session.SessionManagementFilter@26c6288d, org.springframework.security.web.access.ExceptionTranslationFilter@1d5048d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e3566e]
2020-05-31 11:07:12.098  INFO 13681 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:07:12.111  INFO 13681 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:07:12.112  INFO 13681 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:07:12.438  INFO 13681 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:07:12.439  INFO 13681 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:07:12.449  INFO 13681 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:07:12.484  INFO 13681 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:07:12.766  INFO 13681 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:07:12.767  INFO 13681 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:07:12.785  INFO 13681 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:07:13.072  INFO 13681 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:07:13.083  INFO 13681 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.313 seconds (JVM running for 4.772)
2020-05-31 11:07:13.211  INFO 13681 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:07:13.211  INFO 13681 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:07:13.220  INFO 13681 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-05-31 11:07:43.471  INFO 13681 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:07:43.474  INFO 13681 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:07:43.474  INFO 13681 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:07:43.479  INFO 13681 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:07:43.482  INFO 13681 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:07:46.481  INFO 14133 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 14133 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:07:46.483 DEBUG 14133 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:07:46.484  INFO 14133 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:07:47.377  INFO 14133 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:07:47.422  INFO 14133 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39ms. Found 6 JPA repository interfaces.
2020-05-31 11:07:47.619  INFO 14133 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@78226c36' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:07:47.624  INFO 14133 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:07:47.771  INFO 14133 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:07:47.776  INFO 14133 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:07:47.776  INFO 14133 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:07:47.833  INFO 14133 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:07:47.833  INFO 14133 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1317 ms
2020-05-31 11:07:47.938  INFO 14133 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:07:48.005  INFO 14133 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:07:48.009  INFO 14133 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:07:48.217  INFO 14133 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:07:48.241  INFO 14133 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:07:48.302  INFO 14133 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:07:48.353  INFO 14133 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:07:48.758  INFO 14133 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:07:48.762  INFO 14133 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:07:48.824  WARN 14133 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:07:49.374  INFO 14133 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:07:49.457  INFO 14133 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:07:49.458  INFO 14133 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:07:49.458  INFO 14133 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:07:49.458  INFO 14133 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:07:49.483  INFO 14133 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@417446d9, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a02ebe0, org.springframework.security.web.header.HeaderWriterFilter@4c000cc4, org.springframework.security.web.authentication.logout.LogoutFilter@69d58731, com.miro.flightadvisor.security.services.JwtTokenFilter@34070bd2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d7e2795, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d4818e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e7d3d87, org.springframework.security.web.session.SessionManagementFilter@47d9c01, org.springframework.security.web.access.ExceptionTranslationFilter@2b80497f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20914835]
2020-05-31 11:07:49.500  INFO 14133 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:07:49.514  INFO 14133 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:07:49.515  INFO 14133 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:07:49.819  INFO 14133 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:07:49.820  INFO 14133 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:07:49.829  INFO 14133 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:07:49.861  INFO 14133 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:07:50.147  INFO 14133 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:07:50.149  INFO 14133 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:07:50.168  INFO 14133 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:07:50.350  INFO 14133 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:07:50.360  INFO 14133 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.112 seconds (JVM running for 4.54)
2020-05-31 11:07:50.611  INFO 14133 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:07:50.612  INFO 14133 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:07:50.618  INFO 14133 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:07:55.152  INFO 14133 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:07:55.198  INFO 14133 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:08:19.906  INFO 14133 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:08:19.908  INFO 14133 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:08:19.909  INFO 14133 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:08:19.914  INFO 14133 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:08:19.918  INFO 14133 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:08:23.189  INFO 14601 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 14601 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:08:23.191 DEBUG 14601 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:08:23.191  INFO 14601 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:08:24.119  INFO 14601 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:08:24.176  INFO 14601 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51ms. Found 6 JPA repository interfaces.
2020-05-31 11:08:24.392  INFO 14601 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@119c745c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:08:24.397  INFO 14601 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:08:24.550  INFO 14601 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:08:24.556  INFO 14601 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:08:24.556  INFO 14601 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:08:24.607  INFO 14601 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:08:24.608  INFO 14601 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1376 ms
2020-05-31 11:08:24.721  INFO 14601 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:08:24.790  INFO 14601 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:08:24.795  INFO 14601 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:08:25.016  INFO 14601 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:08:25.044  INFO 14601 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:08:25.115  INFO 14601 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:08:25.173  INFO 14601 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:08:25.616  INFO 14601 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:08:25.620  INFO 14601 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:08:25.692  WARN 14601 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:08:26.213  INFO 14601 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:08:26.297  INFO 14601 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:08:26.297  INFO 14601 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:08:26.297  INFO 14601 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:08:26.297  INFO 14601 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:08:26.324  INFO 14601 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2820b369, org.springframework.security.web.context.SecurityContextPersistenceFilter@335972a5, org.springframework.security.web.header.HeaderWriterFilter@2986427e, org.springframework.security.web.authentication.logout.LogoutFilter@e895e3e, com.miro.flightadvisor.security.services.JwtTokenFilter@46b21632, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49f2646, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11170228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@476c137b, org.springframework.security.web.session.SessionManagementFilter@a7ae340, org.springframework.security.web.access.ExceptionTranslationFilter@78743dd8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@688d2a5d]
2020-05-31 11:08:26.342  INFO 14601 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:08:26.357  INFO 14601 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:08:26.358  INFO 14601 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:08:26.653  INFO 14601 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:08:26.654  INFO 14601 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:08:26.663  INFO 14601 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:08:26.695  INFO 14601 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:08:26.961  INFO 14601 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:08:26.962  INFO 14601 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:08:26.981  INFO 14601 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:08:27.169  INFO 14601 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:08:27.179  INFO 14601 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.264 seconds (JVM running for 4.747)
2020-05-31 11:08:27.225  INFO 14601 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:08:27.225  INFO 14601 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:08:27.231  INFO 14601 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:08:30.781  INFO 14601 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:08:30.830  INFO 14601 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:08:40.775  INFO 14601 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:08:40.779  INFO 14601 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:08:40.780  INFO 14601 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:08:40.788  INFO 14601 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:08:40.791  INFO 14601 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:08:42.934  INFO 15055 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 15055 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:08:42.936 DEBUG 15055 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:08:42.937  INFO 15055 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:08:43.803  INFO 15055 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:08:43.850  INFO 15055 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 6 JPA repository interfaces.
2020-05-31 11:08:44.049  INFO 15055 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@64f1fd08' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:08:44.054  INFO 15055 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:08:44.206  INFO 15055 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:08:44.212  INFO 15055 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:08:44.212  INFO 15055 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:08:44.273  INFO 15055 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:08:44.274  INFO 15055 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1304 ms
2020-05-31 11:08:44.394  INFO 15055 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:08:44.465  INFO 15055 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:08:44.468  INFO 15055 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:08:44.694  INFO 15055 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:08:44.722  INFO 15055 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:08:44.790  INFO 15055 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:08:44.843  INFO 15055 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:08:45.274  INFO 15055 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:08:45.278  INFO 15055 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:08:45.340  WARN 15055 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:08:45.901  INFO 15055 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:08:45.995  INFO 15055 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:08:45.996  INFO 15055 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:08:45.996  INFO 15055 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:08:45.996  INFO 15055 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:08:46.022  INFO 15055 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24f90aff, org.springframework.security.web.context.SecurityContextPersistenceFilter@74f649a7, org.springframework.security.web.header.HeaderWriterFilter@41d877bb, org.springframework.security.web.authentication.logout.LogoutFilter@683fe7b5, com.miro.flightadvisor.security.services.JwtTokenFilter@7252bdb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50fa5938, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21698e5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25ea068e, org.springframework.security.web.session.SessionManagementFilter@6cb194f5, org.springframework.security.web.access.ExceptionTranslationFilter@4746fb8c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@70aa58e1]
2020-05-31 11:08:46.040  INFO 15055 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:08:46.055  INFO 15055 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:08:46.055  INFO 15055 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:08:46.358  INFO 15055 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:08:46.359  INFO 15055 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:08:46.369  INFO 15055 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:08:46.403  INFO 15055 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:08:46.661  INFO 15055 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:08:46.662  INFO 15055 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:08:46.680  INFO 15055 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:08:46.864  INFO 15055 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:08:46.875  INFO 15055 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.191 seconds (JVM running for 4.675)
2020-05-31 11:08:46.982  INFO 15055 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:08:46.982  INFO 15055 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:08:46.988  INFO 15055 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:09:03.374  INFO 15055 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:09:03.419  INFO 15055 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:09:06.902  INFO 15055 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:09:06.904  INFO 15055 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:09:35.638  INFO 15055 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:09:35.641  INFO 15055 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:09:35.641  INFO 15055 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:09:35.646  INFO 15055 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:09:35.648  INFO 15055 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:10:51.954  INFO 15661 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 15661 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:10:51.956 DEBUG 15661 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:10:51.957  INFO 15661 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:10:52.849  INFO 15661 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:10:52.910  INFO 15661 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53ms. Found 6 JPA repository interfaces.
2020-05-31 11:10:53.171  INFO 15661 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70cccd8f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:10:53.176  INFO 15661 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:10:53.341  INFO 15661 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:10:53.347  INFO 15661 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:10:53.347  INFO 15661 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:10:53.410  INFO 15661 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:10:53.410  INFO 15661 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1411 ms
2020-05-31 11:10:53.532  INFO 15661 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:10:53.605  INFO 15661 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:10:53.609  INFO 15661 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:10:53.831  INFO 15661 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:10:53.858  INFO 15661 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:10:53.925  INFO 15661 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:10:53.978  INFO 15661 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:10:54.403  INFO 15661 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:10:54.407  INFO 15661 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:10:54.475  WARN 15661 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:10:55.026  INFO 15661 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:10:55.122  INFO 15661 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:10:55.122  INFO 15661 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:10:55.122  INFO 15661 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:10:55.122  INFO 15661 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:10:55.149  INFO 15661 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bccaedb, org.springframework.security.web.context.SecurityContextPersistenceFilter@3dea1ecc, org.springframework.security.web.header.HeaderWriterFilter@407b41e6, org.springframework.security.web.authentication.logout.LogoutFilter@3c910acd, com.miro.flightadvisor.security.services.JwtTokenFilter@67784537, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40a7974, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2773504f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17ec5e2a, org.springframework.security.web.session.SessionManagementFilter@6f6f65a4, org.springframework.security.web.access.ExceptionTranslationFilter@e1a150c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@173cfb01]
2020-05-31 11:10:55.168  INFO 15661 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:10:55.183  INFO 15661 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:10:55.184  INFO 15661 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:10:55.482  INFO 15661 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:10:55.483  INFO 15661 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:10:55.492  INFO 15661 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:10:55.525  INFO 15661 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:10:55.796  INFO 15661 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:10:55.797  INFO 15661 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:10:55.814  INFO 15661 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:10:55.988  INFO 15661 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:10:55.997  INFO 15661 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.264 seconds (JVM running for 4.719)
2020-05-31 11:10:56.075  INFO 15661 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:10:56.075  INFO 15661 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:10:56.082  INFO 15661 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:11:02.631  INFO 15661 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:11:02.681  INFO 15661 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:11:43.510  INFO 15661 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:11:43.512  INFO 15661 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:11:43.513  INFO 15661 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:11:43.519  INFO 15661 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:11:43.521  INFO 15661 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:11:46.778  INFO 16127 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 16127 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:11:46.780 DEBUG 16127 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:11:46.780  INFO 16127 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:11:47.671  INFO 16127 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:11:47.718  INFO 16127 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41ms. Found 6 JPA repository interfaces.
2020-05-31 11:11:47.920  INFO 16127 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3f685162' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:11:47.924  INFO 16127 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:11:48.074  INFO 16127 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:11:48.080  INFO 16127 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:11:48.080  INFO 16127 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:11:48.138  INFO 16127 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:11:48.139  INFO 16127 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1324 ms
2020-05-31 11:11:48.248  INFO 16127 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:11:48.319  INFO 16127 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:11:48.323  INFO 16127 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:11:48.526  INFO 16127 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:11:48.550  INFO 16127 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:11:48.611  INFO 16127 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:11:48.665  INFO 16127 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:11:49.074  INFO 16127 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:11:49.078  INFO 16127 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:11:49.141  WARN 16127 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:11:49.654  INFO 16127 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:11:49.737  INFO 16127 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:11:49.737  INFO 16127 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:11:49.737  INFO 16127 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:11:49.737  INFO 16127 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:11:49.764  INFO 16127 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e7d3d87, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d7e2795, org.springframework.security.web.header.HeaderWriterFilter@45d46254, org.springframework.security.web.authentication.logout.LogoutFilter@1b5af65b, com.miro.flightadvisor.security.services.JwtTokenFilter@1dd76982, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@752494dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57bd9c2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e76a66f, org.springframework.security.web.session.SessionManagementFilter@1a02ebe0, org.springframework.security.web.access.ExceptionTranslationFilter@4c000cc4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@417446d9]
2020-05-31 11:11:49.782  INFO 16127 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:11:49.796  INFO 16127 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:11:49.797  INFO 16127 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:11:50.086  INFO 16127 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:11:50.087  INFO 16127 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:11:50.097  INFO 16127 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:11:50.128  INFO 16127 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:11:50.389  INFO 16127 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:11:50.390  INFO 16127 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:11:50.407  INFO 16127 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:11:50.579  INFO 16127 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:11:50.588  INFO 16127 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.056 seconds (JVM running for 4.487)
2020-05-31 11:11:50.908  INFO 16127 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:11:50.908  INFO 16127 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:11:50.914  INFO 16127 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:12:00.909  INFO 16127 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:12:00.958  INFO 16127 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:12:03.240  INFO 16127 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:12:03.242  INFO 16127 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:13:03.809  INFO 16127 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:13:03.812  INFO 16127 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:13:03.812  INFO 16127 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:13:03.817  INFO 16127 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:13:03.820  INFO 16127 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:13:07.357  INFO 16597 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 16597 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:13:07.360 DEBUG 16597 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:13:07.361  INFO 16597 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:13:08.310  INFO 16597 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:13:08.360  INFO 16597 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 JPA repository interfaces.
2020-05-31 11:13:08.585  INFO 16597 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2d272b0d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:13:08.589  INFO 16597 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:13:08.747  INFO 16597 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:13:08.752  INFO 16597 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:13:08.752  INFO 16597 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:13:08.813  INFO 16597 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:13:08.813  INFO 16597 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1414 ms
2020-05-31 11:13:08.923  INFO 16597 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:13:08.989  INFO 16597 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:13:08.993  INFO 16597 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:13:09.202  INFO 16597 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:13:09.227  INFO 16597 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:13:09.292  INFO 16597 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:13:09.345  INFO 16597 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:13:09.758  INFO 16597 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:13:09.763  INFO 16597 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:13:09.825  WARN 16597 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:13:10.380  INFO 16597 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:13:10.467  INFO 16597 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:13:10.468  INFO 16597 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:13:10.468  INFO 16597 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:13:10.468  INFO 16597 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:13:10.492  INFO 16597 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3af39e7b, org.springframework.security.web.context.SecurityContextPersistenceFilter@11170228, org.springframework.security.web.header.HeaderWriterFilter@e2c627e, org.springframework.security.web.authentication.logout.LogoutFilter@56a09a5c, com.miro.flightadvisor.security.services.JwtTokenFilter@4f6ff62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69d58731, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38c55a8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c62d2ad, org.springframework.security.web.session.SessionManagementFilter@4d4c4b14, org.springframework.security.web.access.ExceptionTranslationFilter@644b68ad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2507a170]
2020-05-31 11:13:10.509  INFO 16597 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:13:10.523  INFO 16597 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:13:10.524  INFO 16597 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:13:10.830  INFO 16597 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:13:10.831  INFO 16597 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:13:10.841  INFO 16597 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:13:10.873  INFO 16597 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:13:11.134  INFO 16597 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:13:11.136  INFO 16597 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:13:11.153  INFO 16597 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:13:11.328  INFO 16597 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:13:11.337  INFO 16597 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.233 seconds (JVM running for 4.708)
2020-05-31 11:13:11.408  INFO 16597 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:13:11.409  INFO 16597 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:13:11.415  INFO 16597 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:13:14.789  INFO 16597 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:13:14.835  INFO 16597 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:13:47.180  INFO 16597 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:13:47.182  INFO 16597 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:13:47.183  INFO 16597 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:13:47.188  INFO 16597 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:13:47.191  INFO 16597 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:13:50.332  INFO 17060 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 17060 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:13:50.335 DEBUG 17060 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:13:50.335  INFO 17060 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:13:51.282  INFO 17060 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:13:51.332  INFO 17060 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 JPA repository interfaces.
2020-05-31 11:13:51.540  INFO 17060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1174a305' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:13:51.545  INFO 17060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:13:51.693  INFO 17060 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:13:51.698  INFO 17060 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:13:51.698  INFO 17060 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:13:51.744  INFO 17060 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:13:51.744  INFO 17060 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1368 ms
2020-05-31 11:13:51.856  INFO 17060 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:13:51.928  INFO 17060 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:13:51.932  INFO 17060 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:13:52.145  INFO 17060 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:13:52.170  INFO 17060 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:13:52.233  INFO 17060 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:13:52.289  INFO 17060 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:13:52.714  INFO 17060 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:13:52.719  INFO 17060 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:13:52.785  WARN 17060 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:13:53.294  INFO 17060 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:13:53.377  INFO 17060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:13:53.377  INFO 17060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:13:53.377  INFO 17060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:13:53.377  INFO 17060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:13:53.401  INFO 17060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34070bd2, org.springframework.security.web.context.SecurityContextPersistenceFilter@58b3eb1, org.springframework.security.web.header.HeaderWriterFilter@6c36051c, org.springframework.security.web.authentication.logout.LogoutFilter@3275a47f, com.miro.flightadvisor.security.services.JwtTokenFilter@1e7d3d87, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78743dd8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26c6288d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dd76982, org.springframework.security.web.session.SessionManagementFilter@5358c8fa, org.springframework.security.web.access.ExceptionTranslationFilter@6ef4297d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@615c4ea4]
2020-05-31 11:13:53.418  INFO 17060 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:13:53.431  INFO 17060 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:13:53.432  INFO 17060 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:13:53.712  INFO 17060 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:13:53.713  INFO 17060 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:13:53.723  INFO 17060 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:13:53.754  INFO 17060 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:13:54.015  INFO 17060 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:13:54.016  INFO 17060 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:13:54.033  INFO 17060 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:13:54.210  INFO 17060 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:13:54.220  INFO 17060 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.161 seconds (JVM running for 4.628)
2020-05-31 11:13:54.497  INFO 17060 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:13:54.497  INFO 17060 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:13:54.503  INFO 17060 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:13:57.653  INFO 17060 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:13:57.699  INFO 17060 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:15:24.395  INFO 17060 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:15:24.398  INFO 17060 --- [http-nio-8080-exec-5] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:15:24.749  INFO 17060 --- [http-nio-8080-exec-5] c.m.f.security.services.UserService      : Log in failed for user 
2020-05-31 11:15:37.969  INFO 17060 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:15:37.971  INFO 17060 --- [http-nio-8080-exec-6] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:15:42.828  INFO 17060 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:15:42.830  INFO 17060 --- [http-nio-8080-exec-7] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:15:48.306  INFO 17060 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:15:48.307  INFO 17060 --- [http-nio-8080-exec-8] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:15:53.655  INFO 17060 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:15:53.657  INFO 17060 --- [http-nio-8080-exec-9] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:15:59.672  INFO 17060 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:15:59.674  INFO 17060 --- [http-nio-8080-exec-10] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:16:12.595  INFO 17060 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:16:12.598  INFO 17060 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:16:12.598  INFO 17060 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:16:12.605  INFO 17060 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:16:12.608  INFO 17060 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:16:14.778  INFO 17581 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 17581 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:16:14.780 DEBUG 17581 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:16:14.780  INFO 17581 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:16:15.814  INFO 17581 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:16:15.862  INFO 17581 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 6 JPA repository interfaces.
2020-05-31 11:16:16.074  INFO 17581 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1640190a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:16:16.080  INFO 17581 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:16:16.244  INFO 17581 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:16:16.250  INFO 17581 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:16:16.250  INFO 17581 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:16:16.313  INFO 17581 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:16:16.313  INFO 17581 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1498 ms
2020-05-31 11:16:16.465  INFO 17581 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:16:16.542  INFO 17581 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:16:16.546  INFO 17581 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:16:16.746  INFO 17581 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:16:16.774  INFO 17581 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:16:16.840  INFO 17581 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:16:16.892  INFO 17581 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:16:17.307  INFO 17581 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:16:17.311  INFO 17581 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:16:17.376  WARN 17581 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:16:17.898  INFO 17581 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:16:17.985  INFO 17581 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:16:17.985  INFO 17581 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:16:17.985  INFO 17581 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:16:17.985  INFO 17581 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:16:18.009  INFO 17581 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12723c5d, org.springframework.security.web.context.SecurityContextPersistenceFilter@13662609, org.springframework.security.web.header.HeaderWriterFilter@4cd8db31, org.springframework.security.web.authentication.logout.LogoutFilter@644b68ad, com.miro.flightadvisor.security.services.JwtTokenFilter@56a09a5c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b80497f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@460e5ffe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@775edae0, org.springframework.security.web.session.SessionManagementFilter@38968752, org.springframework.security.web.access.ExceptionTranslationFilter@7252bdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b4fd7d]
2020-05-31 11:16:18.026  INFO 17581 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:16:18.040  INFO 17581 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:16:18.041  INFO 17581 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:16:18.338  INFO 17581 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:16:18.339  INFO 17581 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:16:18.348  INFO 17581 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:16:18.381  INFO 17581 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:16:18.635  INFO 17581 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:16:18.636  INFO 17581 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:16:18.653  INFO 17581 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:16:18.829  INFO 17581 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:16:18.838  INFO 17581 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.331 seconds (JVM running for 4.81)
2020-05-31 11:16:19.396  INFO 17581 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:16:19.396  INFO 17581 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:16:19.403  INFO 17581 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:16:23.407  INFO 17581 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:23.456  INFO 17581 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:16:41.009  INFO 17581 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:41.071  INFO 17581 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:41.198  INFO 17581 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:41.340  INFO 17581 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.374  INFO 17581 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.494  INFO 17581 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.494  INFO 17581 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.497  INFO 17581 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.497  INFO 17581 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.577  INFO 17581 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.577  INFO 17581 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.590  INFO 17581 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.590  INFO 17581 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.591  INFO 17581 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.591  INFO 17581 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.591  INFO 17581 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.590  INFO 17581 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.600  INFO 17581 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.605  INFO 17581 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.651  INFO 17581 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.679  INFO 17581 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.679  INFO 17581 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.679  INFO 17581 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.679  INFO 17581 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.679  INFO 17581 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.681  INFO 17581 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.692  INFO 17581 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.692  INFO 17581 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.692  INFO 17581 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.697  INFO 17581 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.702  INFO 17581 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.702  INFO 17581 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.702  INFO 17581 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.703  INFO 17581 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:43.704  INFO 17581 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:49.012  INFO 17581 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:16:49.089  INFO 17581 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:17:55.235  INFO 17581 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:17:55.242  INFO 17581 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:17:55.242  INFO 17581 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:17:55.251  INFO 17581 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:17:55.255  INFO 17581 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:17:58.194  INFO 18696 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 18696 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:17:58.196 DEBUG 18696 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:17:58.197  INFO 18696 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:17:59.079  INFO 18696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:17:59.127  INFO 18696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 6 JPA repository interfaces.
2020-05-31 11:17:59.335  INFO 18696 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@782be4eb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:17:59.340  INFO 18696 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:17:59.532  INFO 18696 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:17:59.539  INFO 18696 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:17:59.539  INFO 18696 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:17:59.604  INFO 18696 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:17:59.604  INFO 18696 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1370 ms
2020-05-31 11:17:59.711  INFO 18696 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:17:59.786  INFO 18696 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:17:59.790  INFO 18696 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:18:00.016  INFO 18696 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:18:00.042  INFO 18696 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:18:00.105  INFO 18696 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:18:00.161  INFO 18696 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:18:00.618  INFO 18696 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:18:00.623  INFO 18696 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:18:00.690  WARN 18696 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:18:01.256  INFO 18696 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:18:01.342  INFO 18696 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:18:01.342  INFO 18696 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:18:01.342  INFO 18696 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:18:01.343  INFO 18696 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:18:01.369  INFO 18696 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c2dd88b, org.springframework.security.web.context.SecurityContextPersistenceFilter@65a4b9d6, org.springframework.security.web.header.HeaderWriterFilter@4ea48b2e, org.springframework.security.web.authentication.logout.LogoutFilter@79273a4f, com.miro.flightadvisor.security.services.JwtTokenFilter@49d979c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41f90b10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53918b5e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cb173db, org.springframework.security.web.session.SessionManagementFilter@40a7974, org.springframework.security.web.access.ExceptionTranslationFilter@6cfd08e9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17ec5e2a]
2020-05-31 11:18:01.386  INFO 18696 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:18:01.400  INFO 18696 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:18:01.401  INFO 18696 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:18:01.696  INFO 18696 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:18:01.697  INFO 18696 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:18:01.707  INFO 18696 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:18:01.737  INFO 18696 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:18:01.998  INFO 18696 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:18:02.000  INFO 18696 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:18:02.017  INFO 18696 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:18:02.190  INFO 18696 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:18:02.199  INFO 18696 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.258 seconds (JVM running for 4.68)
2020-05-31 11:18:02.347  INFO 18696 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:18:02.347  INFO 18696 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:18:02.354  INFO 18696 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:18:06.476  INFO 18696 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:18:06.523  INFO 18696 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:18:09.248  INFO 18696 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:18:09.250  INFO 18696 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:21:19.518  INFO 18696 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:21:19.521  INFO 18696 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:21:19.521  INFO 18696 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:21:19.529  INFO 18696 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:21:19.532  INFO 18696 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:21:22.634  INFO 19384 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 19384 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:21:22.636 DEBUG 19384 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:21:22.637  INFO 19384 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:21:23.613  INFO 19384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:21:23.659  INFO 19384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41ms. Found 6 JPA repository interfaces.
2020-05-31 11:21:23.861  INFO 19384 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@181e72d3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:21:23.866  INFO 19384 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:21:24.038  INFO 19384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:21:24.044  INFO 19384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:21:24.044  INFO 19384 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:21:24.112  INFO 19384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:21:24.112  INFO 19384 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1443 ms
2020-05-31 11:21:24.222  INFO 19384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:21:24.293  INFO 19384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:21:24.297  INFO 19384 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:21:24.515  INFO 19384 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:21:24.541  INFO 19384 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:21:24.605  INFO 19384 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:21:24.655  INFO 19384 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:21:25.075  INFO 19384 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:21:25.078  INFO 19384 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:21:25.139  WARN 19384 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:21:25.655  INFO 19384 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:21:25.738  INFO 19384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:21:25.739  INFO 19384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:21:25.739  INFO 19384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:21:25.739  INFO 19384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:21:25.763  INFO 19384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7af9595d, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b289535, org.springframework.security.web.header.HeaderWriterFilter@49f2646, org.springframework.security.web.authentication.logout.LogoutFilter@74bfdd66, com.miro.flightadvisor.security.services.JwtTokenFilter@7a34c1f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38c55a8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d172c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e9f8160, org.springframework.security.web.session.SessionManagementFilter@1b5af65b, org.springframework.security.web.access.ExceptionTranslationFilter@335972a5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@433ae0b0]
2020-05-31 11:21:25.779  INFO 19384 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:21:25.793  INFO 19384 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:21:25.794  INFO 19384 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:21:26.085  INFO 19384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:21:26.086  INFO 19384 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:21:26.096  INFO 19384 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:21:26.126  INFO 19384 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:21:26.383  INFO 19384 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:21:26.384  INFO 19384 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:21:26.402  INFO 19384 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:21:26.584  INFO 19384 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:21:26.594  INFO 19384 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.209 seconds (JVM running for 4.655)
2020-05-31 11:21:26.879  INFO 19384 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:21:26.879  INFO 19384 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:21:26.886  INFO 19384 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:21:34.388  INFO 19384 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:21:34.434  INFO 19384 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:22:50.632  INFO 19384 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:22:50.634  INFO 19384 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:22:50.635  INFO 19384 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:22:50.640  INFO 19384 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:22:50.642  INFO 19384 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:22:57.025  INFO 19945 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 19945 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:22:57.027 DEBUG 19945 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:22:57.027  INFO 19945 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:22:58.025  INFO 19945 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:22:58.075  INFO 19945 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 JPA repository interfaces.
2020-05-31 11:22:58.320  INFO 19945 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@34d4860f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:22:58.322  INFO 19945 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:22:58.498  INFO 19945 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:22:58.504  INFO 19945 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:22:58.504  INFO 19945 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:22:58.554  INFO 19945 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:22:58.554  INFO 19945 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1490 ms
2020-05-31 11:22:58.653  INFO 19945 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:22:58.777  INFO 19945 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:22:58.781  INFO 19945 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:22:58.907  INFO 19945 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:22:58.934  INFO 19945 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:22:59.001  INFO 19945 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:22:59.056  INFO 19945 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:22:59.518  INFO 19945 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:22:59.522  INFO 19945 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:22:59.588  WARN 19945 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:23:00.190  INFO 19945 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:23:00.305  INFO 19945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:23:00.305  INFO 19945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:23:00.305  INFO 19945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:23:00.305  INFO 19945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:23:00.337  INFO 19945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e6b379c, org.springframework.security.web.context.SecurityContextPersistenceFilter@9f2fe2e, org.springframework.security.web.header.HeaderWriterFilter@21e39b82, org.springframework.security.web.authentication.logout.LogoutFilter@4f7ae05, com.miro.flightadvisor.security.services.JwtTokenFilter@5e7e7a7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79273a4f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b4d83ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ff81b0d, org.springframework.security.web.session.SessionManagementFilter@3c910acd, org.springframework.security.web.access.ExceptionTranslationFilter@1fca53a7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c6fb501]
2020-05-31 11:23:00.361  INFO 19945 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:23:00.379  INFO 19945 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:23:00.380  INFO 19945 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:23:00.833  INFO 19945 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:23:00.834  INFO 19945 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:23:00.843  INFO 19945 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:23:00.883  INFO 19945 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:23:01.041  INFO 19945 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:23:01.042  INFO 19945 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:23:01.062  INFO 19945 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:23:01.278  INFO 19945 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:23:01.288  INFO 19945 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.539 seconds (JVM running for 4.987)
2020-05-31 11:23:01.586  INFO 19945 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:23:01.587  INFO 19945 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:23:01.599  INFO 19945 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-05-31 11:23:04.143  INFO 19945 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:23:55.384  INFO 19945 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:23:55.387  INFO 19945 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:23:55.388  INFO 19945 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:23:55.393  INFO 19945 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:23:55.396  INFO 19945 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:23:58.842  INFO 20419 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 20419 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:23:58.845 DEBUG 20419 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:23:58.845  INFO 20419 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:23:59.834  INFO 20419 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:23:59.883  INFO 20419 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 6 JPA repository interfaces.
2020-05-31 11:24:00.118  INFO 20419 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7eae3764' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:24:00.121  INFO 20419 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:24:00.268  INFO 20419 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:24:00.273  INFO 20419 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:24:00.273  INFO 20419 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:24:00.321  INFO 20419 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:24:00.321  INFO 20419 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1436 ms
2020-05-31 11:24:00.433  INFO 20419 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:24:00.551  INFO 20419 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:24:00.555  INFO 20419 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:24:00.674  INFO 20419 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:24:00.697  INFO 20419 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:24:00.756  INFO 20419 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:24:00.814  INFO 20419 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:24:01.277  INFO 20419 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:24:01.281  INFO 20419 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:24:01.342  WARN 20419 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:24:01.847  INFO 20419 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:24:01.937  INFO 20419 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:24:01.937  INFO 20419 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:24:01.937  INFO 20419 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:24:01.937  INFO 20419 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:24:01.962  INFO 20419 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cb173db, org.springframework.security.web.context.SecurityContextPersistenceFilter@41f90b10, org.springframework.security.web.header.HeaderWriterFilter@76f9e000, org.springframework.security.web.authentication.logout.LogoutFilter@50bb1c1f, com.miro.flightadvisor.security.services.JwtTokenFilter@26712838, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2773504f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b6cad77, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@249a45fd, org.springframework.security.web.session.SessionManagementFilter@65a4b9d6, org.springframework.security.web.access.ExceptionTranslationFilter@4ea48b2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c2dd88b]
2020-05-31 11:24:01.979  INFO 20419 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:24:01.992  INFO 20419 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:24:01.993  INFO 20419 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:24:02.405  INFO 20419 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:24:02.406  INFO 20419 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:24:02.415  INFO 20419 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:24:02.442  INFO 20419 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:24:02.560  INFO 20419 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:24:02.561  INFO 20419 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:24:02.579  INFO 20419 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:24:02.779  INFO 20419 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:24:02.789  INFO 20419 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.201 seconds (JVM running for 4.688)
2020-05-31 11:24:02.872  INFO 20419 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:24:02.872  INFO 20419 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:24:02.881  INFO 20419 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-05-31 11:24:06.132  INFO 20419 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:24:57.260  INFO 20419 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:24:57.263  INFO 20419 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:24:57.263  INFO 20419 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:24:57.268  INFO 20419 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:24:57.271  INFO 20419 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:24:59.466  INFO 20884 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 20884 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:24:59.469 DEBUG 20884 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:24:59.469  INFO 20884 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:25:00.379  INFO 20884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:25:00.434  INFO 20884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48ms. Found 6 JPA repository interfaces.
2020-05-31 11:25:00.698  INFO 20884 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6a937336' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:25:00.704  INFO 20884 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:25:00.889  INFO 20884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:25:00.896  INFO 20884 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:25:00.896  INFO 20884 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:25:00.971  INFO 20884 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:25:00.972  INFO 20884 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1462 ms
2020-05-31 11:25:01.078  INFO 20884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:25:01.199  INFO 20884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:25:01.203  INFO 20884 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:25:01.334  INFO 20884 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:25:01.362  INFO 20884 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:25:01.433  INFO 20884 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:25:01.490  INFO 20884 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:25:01.944  INFO 20884 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:25:01.949  INFO 20884 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:25:02.013  WARN 20884 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:25:02.504  INFO 20884 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:25:02.582  INFO 20884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:25:02.582  INFO 20884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:25:02.582  INFO 20884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:25:02.582  INFO 20884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:25:02.605  INFO 20884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cf88901, org.springframework.security.web.context.SecurityContextPersistenceFilter@23f8036d, org.springframework.security.web.header.HeaderWriterFilter@26bce60d, org.springframework.security.web.authentication.logout.LogoutFilter@3e998033, com.miro.flightadvisor.security.services.JwtTokenFilter@4780341, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e3566e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@688d2a5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c910acd, org.springframework.security.web.session.SessionManagementFilter@72237be8, org.springframework.security.web.access.ExceptionTranslationFilter@26a9c6df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45790cb]
2020-05-31 11:25:02.620  INFO 20884 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:25:02.634  INFO 20884 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:25:02.635  INFO 20884 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:25:03.093  INFO 20884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:25:03.094  INFO 20884 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:25:03.102  INFO 20884 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:25:03.128  INFO 20884 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:25:03.250  INFO 20884 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:25:03.251  INFO 20884 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:25:03.269  INFO 20884 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:25:03.467  INFO 20884 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:25:03.477  INFO 20884 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.268 seconds (JVM running for 4.813)
2020-05-31 11:25:04.003  INFO 20884 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:25:04.003  INFO 20884 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:25:04.010  INFO 20884 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:25:08.584  INFO 20884 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:25:44.323  INFO 20884 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:25:54.157  INFO 20884 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:25:54.164  INFO 20884 --- [http-nio-8080-exec-6] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:26:03.295  INFO 20884 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:26:03.301  INFO 20884 --- [http-nio-8080-exec-7] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:26:14.226  INFO 20884 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:26:14.228  INFO 20884 --- [http-nio-8080-exec-8] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:26:38.328  INFO 20884 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:26:47.701  INFO 20884 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:26:47.708  INFO 20884 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:32:14.205  INFO 20884 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:32:14.208  INFO 20884 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:32:14.208  INFO 20884 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:32:14.214  INFO 20884 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:32:14.216  INFO 20884 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:34:06.961  INFO 21803 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 21803 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:34:06.964 DEBUG 21803 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:34:06.964  INFO 21803 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:34:07.949  INFO 21803 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:34:08.010  INFO 21803 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53ms. Found 6 JPA repository interfaces.
2020-05-31 11:34:08.247  INFO 21803 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@38aafb53' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:34:08.250  INFO 21803 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:34:08.402  INFO 21803 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:34:08.407  INFO 21803 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:34:08.407  INFO 21803 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:34:08.453  INFO 21803 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:34:08.453  INFO 21803 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1454 ms
2020-05-31 11:34:08.559  INFO 21803 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:34:08.678  INFO 21803 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:34:08.682  INFO 21803 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:34:08.803  INFO 21803 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:34:08.827  INFO 21803 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:34:08.888  INFO 21803 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:34:08.948  INFO 21803 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:34:09.406  INFO 21803 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:34:09.410  INFO 21803 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:34:09.476  WARN 21803 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:34:10.014  INFO 21803 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:34:10.107  INFO 21803 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:34:10.107  INFO 21803 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:34:10.107  INFO 21803 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:34:10.107  INFO 21803 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:34:10.153  INFO 21803 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11f9b95a, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e9f8160, org.springframework.security.web.header.HeaderWriterFilter@540212be, org.springframework.security.web.authentication.logout.LogoutFilter@6edd4fe2, com.miro.flightadvisor.security.services.JwtTokenFilter@42066f0d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e1a150c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ea48b2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@687e561b, org.springframework.security.web.session.SessionManagementFilter@7af9595d, org.springframework.security.web.access.ExceptionTranslationFilter@476c137b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@508f4bb5]
2020-05-31 11:34:10.171  INFO 21803 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:34:10.185  INFO 21803 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:34:10.186  INFO 21803 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:34:10.581  INFO 21803 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:34:10.582  INFO 21803 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:34:10.591  INFO 21803 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:34:10.619  INFO 21803 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:34:10.740  INFO 21803 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:34:10.742  INFO 21803 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:34:10.760  INFO 21803 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:34:10.957  INFO 21803 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:34:10.967  INFO 21803 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.289 seconds (JVM running for 4.793)
2020-05-31 11:34:11.522  INFO 21803 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:34:11.523  INFO 21803 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:34:11.530  INFO 21803 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:34:15.208  INFO 21803 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:34:15.219  INFO 21803 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:34:20.041  INFO 21803 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:34:20.042  INFO 21803 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:34:41.362  INFO 21803 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:34:41.364  INFO 21803 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:35:54.323  INFO 21803 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:35:54.325  INFO 21803 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:35:54.326  INFO 21803 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:35:54.332  INFO 21803 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:35:54.335  INFO 21803 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:35:57.732  INFO 22324 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 22324 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:35:57.734 DEBUG 22324 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:35:57.735  INFO 22324 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:35:58.611  INFO 22324 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:35:58.655  INFO 22324 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39ms. Found 6 JPA repository interfaces.
2020-05-31 11:35:58.859  INFO 22324 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@78010562' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:35:58.862  INFO 22324 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:35:59.006  INFO 22324 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:35:59.011  INFO 22324 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:35:59.012  INFO 22324 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:35:59.065  INFO 22324 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:35:59.065  INFO 22324 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1295 ms
2020-05-31 11:35:59.176  INFO 22324 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:35:59.295  INFO 22324 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:35:59.299  INFO 22324 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:35:59.415  INFO 22324 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:35:59.438  INFO 22324 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:35:59.494  INFO 22324 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:35:59.549  INFO 22324 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:36:00.003  INFO 22324 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:36:00.008  INFO 22324 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:36:00.072  WARN 22324 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:36:00.611  INFO 22324 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:36:00.702  INFO 22324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:36:00.702  INFO 22324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:36:00.702  INFO 22324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:36:00.702  INFO 22324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:36:00.728  INFO 22324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e23ee0e, org.springframework.security.web.context.SecurityContextPersistenceFilter@6cfd08e9, org.springframework.security.web.header.HeaderWriterFilter@1c62d2ad, org.springframework.security.web.authentication.logout.LogoutFilter@21e39b82, com.miro.flightadvisor.security.services.JwtTokenFilter@b144175, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ea48b2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6f65a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38923cfe, org.springframework.security.web.session.SessionManagementFilter@407b41e6, org.springframework.security.web.access.ExceptionTranslationFilter@3af39e7b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75f8d9b0]
2020-05-31 11:36:00.746  INFO 22324 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:36:00.761  INFO 22324 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:36:00.761  INFO 22324 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:36:01.182  INFO 22324 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:36:01.183  INFO 22324 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:36:01.192  INFO 22324 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:36:01.219  INFO 22324 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:36:01.348  INFO 22324 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:36:01.349  INFO 22324 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:36:01.369  INFO 22324 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:36:01.579  INFO 22324 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:36:01.588  INFO 22324 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.091 seconds (JVM running for 4.542)
2020-05-31 11:36:01.823  INFO 22324 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:36:01.823  INFO 22324 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:36:01.836  INFO 22324 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:36:05.408  INFO 22324 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:36:05.419  INFO 22324 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:40:31.026  INFO 22324 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:40:31.029  INFO 22324 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:40:31.030  INFO 22324 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:40:31.035  INFO 22324 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:40:31.038  INFO 22324 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:40:34.330  INFO 23327 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 23327 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:40:34.332 DEBUG 23327 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:40:34.332  INFO 23327 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:40:35.282  INFO 23327 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:40:35.334  INFO 23327 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 6 JPA repository interfaces.
2020-05-31 11:40:35.583  INFO 23327 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@25b52284' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:40:35.586  INFO 23327 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:40:35.761  INFO 23327 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:40:35.767  INFO 23327 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:40:35.767  INFO 23327 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:40:35.819  INFO 23327 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:40:35.819  INFO 23327 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1447 ms
2020-05-31 11:40:35.935  INFO 23327 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:40:36.065  INFO 23327 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:40:36.070  INFO 23327 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:40:36.199  INFO 23327 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:40:36.225  INFO 23327 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:40:36.292  INFO 23327 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:40:36.353  INFO 23327 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:40:36.833  INFO 23327 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:40:36.838  INFO 23327 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:40:36.908  WARN 23327 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:40:37.459  INFO 23327 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:40:37.551  INFO 23327 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:40:37.551  INFO 23327 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:40:37.551  INFO 23327 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:40:37.551  INFO 23327 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:40:37.577  INFO 23327 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10408ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@45790cb, org.springframework.security.web.header.HeaderWriterFilter@6edd4fe2, org.springframework.security.web.authentication.logout.LogoutFilter@5602e540, com.miro.flightadvisor.security.services.JwtTokenFilter@3d7b3b18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf88901, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79273a4f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@186dcb05, org.springframework.security.web.session.SessionManagementFilter@1868ed54, org.springframework.security.web.access.ExceptionTranslationFilter@497921d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2210e466]
2020-05-31 11:40:37.595  INFO 23327 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:40:37.610  INFO 23327 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:40:37.610  INFO 23327 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:40:38.034  INFO 23327 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:40:38.035  INFO 23327 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:40:38.044  INFO 23327 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:40:38.073  INFO 23327 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:40:38.201  INFO 23327 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:40:38.202  INFO 23327 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:40:38.220  INFO 23327 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:40:38.428  INFO 23327 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:40:38.437  INFO 23327 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.343 seconds (JVM running for 4.822)
2020-05-31 11:40:38.969  INFO 23327 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:40:38.969  INFO 23327 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:40:38.976  INFO 23327 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:40:42.145  INFO 23327 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:40:42.157  INFO 23327 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:40:45.758  INFO 23327 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:40:45.759  INFO 23327 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:43:25.042  INFO 23327 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:43:25.045  INFO 23327 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:43:25.045  INFO 23327 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:43:25.051  INFO 23327 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:43:25.054  INFO 23327 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:43:28.401  INFO 24051 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 24051 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:43:28.405 DEBUG 24051 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:43:28.406  INFO 24051 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:43:29.537  INFO 24051 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:43:29.615  INFO 24051 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69ms. Found 6 JPA repository interfaces.
2020-05-31 11:43:29.886  INFO 24051 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@690bc15e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:43:29.890  INFO 24051 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:43:30.046  INFO 24051 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:43:30.052  INFO 24051 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:43:30.052  INFO 24051 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:43:30.097  INFO 24051 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:43:30.097  INFO 24051 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1637 ms
2020-05-31 11:43:30.205  INFO 24051 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:43:30.330  INFO 24051 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:43:30.334  INFO 24051 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:43:30.459  INFO 24051 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:43:30.483  INFO 24051 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:43:30.542  INFO 24051 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:43:30.597  INFO 24051 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:43:31.086  INFO 24051 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:43:31.090  INFO 24051 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:43:31.151  WARN 24051 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:43:31.646  INFO 24051 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:43:31.735  INFO 24051 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:43:31.735  INFO 24051 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:43:31.735  INFO 24051 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:43:31.735  INFO 24051 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:43:31.760  INFO 24051 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@562f6681, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a41caed, org.springframework.security.web.header.HeaderWriterFilter@4a5b38e6, org.springframework.security.web.authentication.logout.LogoutFilter@68f69ca3, com.miro.flightadvisor.security.services.JwtTokenFilter@6f6f65a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7404aff2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7747cc1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@990b86b, org.springframework.security.web.session.SessionManagementFilter@70805849, org.springframework.security.web.access.ExceptionTranslationFilter@1d7f7962, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7612116b]
2020-05-31 11:43:31.778  INFO 24051 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:43:31.791  INFO 24051 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:43:31.792  INFO 24051 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:43:32.209  INFO 24051 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:43:32.210  INFO 24051 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:43:32.218  INFO 24051 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:43:32.247  INFO 24051 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:43:32.382  INFO 24051 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:43:32.384  INFO 24051 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:43:32.403  INFO 24051 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:43:32.599  INFO 24051 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:43:32.609  INFO 24051 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.479 seconds (JVM running for 4.954)
2020-05-31 11:43:32.995  INFO 24051 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:43:32.996  INFO 24051 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:43:33.007  INFO 24051 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2020-05-31 11:43:36.419  INFO 24051 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:43:36.431  INFO 24051 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:45:51.385  INFO 24051 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:45:51.389  INFO 24051 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:45:51.389  INFO 24051 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:45:51.396  INFO 24051 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:45:51.399  INFO 24051 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:45:54.665  INFO 24667 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 24667 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:45:54.667 DEBUG 24667 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:45:54.668  INFO 24667 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:45:55.694  INFO 24667 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:45:55.743  INFO 24667 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 6 JPA repository interfaces.
2020-05-31 11:45:55.967  INFO 24667 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@67efd2c2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:45:55.970  INFO 24667 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:45:56.155  INFO 24667 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:45:56.161  INFO 24667 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:45:56.161  INFO 24667 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:45:56.210  INFO 24667 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:45:56.210  INFO 24667 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1504 ms
2020-05-31 11:45:56.308  INFO 24667 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:45:56.429  INFO 24667 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:45:56.434  INFO 24667 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:45:56.554  INFO 24667 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:45:56.579  INFO 24667 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:45:56.640  INFO 24667 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:45:56.697  INFO 24667 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:45:57.171  INFO 24667 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:45:57.175  INFO 24667 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:45:57.236  WARN 24667 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:45:57.756  INFO 24667 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:45:57.848  INFO 24667 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:45:57.848  INFO 24667 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:45:57.848  INFO 24667 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:45:57.848  INFO 24667 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:45:57.873  INFO 24667 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@186dcb05, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cf88901, org.springframework.security.web.header.HeaderWriterFilter@5366575d, org.springframework.security.web.authentication.logout.LogoutFilter@42066f0d, com.miro.flightadvisor.security.services.JwtTokenFilter@1d0dad12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c910acd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50bb1c1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c6fb501, org.springframework.security.web.session.SessionManagementFilter@45790cb, org.springframework.security.web.access.ExceptionTranslationFilter@6edd4fe2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10408ea]
2020-05-31 11:45:57.891  INFO 24667 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:45:57.904  INFO 24667 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:45:57.905  INFO 24667 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:45:58.339  INFO 24667 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:45:58.340  INFO 24667 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:45:58.349  INFO 24667 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:45:58.378  INFO 24667 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:45:58.498  INFO 24667 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:45:58.499  INFO 24667 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:45:58.516  INFO 24667 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:45:58.708  INFO 24667 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:45:58.718  INFO 24667 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.299 seconds (JVM running for 4.74)
2020-05-31 11:45:58.755  INFO 24667 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:45:58.755  INFO 24667 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:45:58.762  INFO 24667 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:46:02.863  INFO 24667 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:46:02.875  INFO 24667 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:46:53.867  INFO 24667 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:46:53.871  INFO 24667 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:46:53.871  INFO 24667 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:46:53.878  INFO 24667 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:46:53.881  INFO 24667 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:46:57.146  INFO 25167 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 25167 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:46:57.149 DEBUG 25167 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:46:57.150  INFO 25167 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:46:58.185  INFO 25167 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:46:58.269  INFO 25167 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76ms. Found 6 JPA repository interfaces.
2020-05-31 11:46:58.653  INFO 25167 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6c6333cd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:46:58.657  INFO 25167 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:46:58.852  INFO 25167 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:46:58.858  INFO 25167 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:46:58.858  INFO 25167 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:46:58.909  INFO 25167 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:46:58.909  INFO 25167 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1721 ms
2020-05-31 11:46:59.014  INFO 25167 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:46:59.142  INFO 25167 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:46:59.146  INFO 25167 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:46:59.280  INFO 25167 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:46:59.306  INFO 25167 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:46:59.372  INFO 25167 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:46:59.433  INFO 25167 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:46:59.907  INFO 25167 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:46:59.912  INFO 25167 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:46:59.977  WARN 25167 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:47:00.539  INFO 25167 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:47:00.633  INFO 25167 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:47:00.633  INFO 25167 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:47:00.633  INFO 25167 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:47:00.633  INFO 25167 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:47:00.659  INFO 25167 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73a5d86c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c5f12e, org.springframework.security.web.header.HeaderWriterFilter@2ce24a1a, org.springframework.security.web.authentication.logout.LogoutFilter@6e9f8160, com.miro.flightadvisor.security.services.JwtTokenFilter@2cf88901, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68f69ca3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@85cd413, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4780341, org.springframework.security.web.session.SessionManagementFilter@7e76a66f, org.springframework.security.web.access.ExceptionTranslationFilter@6fc7e828, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@131777e8]
2020-05-31 11:47:00.680  INFO 25167 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:47:00.694  INFO 25167 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:47:00.695  INFO 25167 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:47:01.150  INFO 25167 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:47:01.151  INFO 25167 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:47:01.160  INFO 25167 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:47:01.188  INFO 25167 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:47:01.316  INFO 25167 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:47:01.317  INFO 25167 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:47:01.334  INFO 25167 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:47:01.533  INFO 25167 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:47:01.543  INFO 25167 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.668 seconds (JVM running for 5.11)
2020-05-31 11:47:01.768  INFO 25167 --- [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:47:01.769  INFO 25167 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:47:01.776  INFO 25167 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:47:04.787  INFO 25167 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:47:04.798  INFO 25167 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:47:07.010  INFO 25167 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:47:07.011  INFO 25167 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:47:46.715  INFO 25167 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:47:46.719  INFO 25167 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:47:46.720  INFO 25167 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:47:46.726  INFO 25167 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:47:46.729  INFO 25167 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:47:50.129  INFO 25660 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 25660 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:47:50.130 DEBUG 25660 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:47:50.131  INFO 25660 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:47:51.036  INFO 25660 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:47:51.087  INFO 25660 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 JPA repository interfaces.
2020-05-31 11:47:51.322  INFO 25660 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@52169758' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:47:51.326  INFO 25660 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:47:51.487  INFO 25660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:47:51.492  INFO 25660 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:47:51.492  INFO 25660 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:47:51.541  INFO 25660 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:47:51.542  INFO 25660 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1372 ms
2020-05-31 11:47:51.653  INFO 25660 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:47:51.778  INFO 25660 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:47:51.782  INFO 25660 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:47:51.904  INFO 25660 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:47:51.931  INFO 25660 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:47:51.999  INFO 25660 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:47:52.062  INFO 25660 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:47:52.535  INFO 25660 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:47:52.540  INFO 25660 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:47:52.594  WARN 25660 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:47:53.106  INFO 25660 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:47:53.197  INFO 25660 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:47:53.197  INFO 25660 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:47:53.197  INFO 25660 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:47:53.197  INFO 25660 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:47:53.221  INFO 25660 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13d10057, org.springframework.security.web.context.SecurityContextPersistenceFilter@79144d0e, org.springframework.security.web.header.HeaderWriterFilter@68f69ca3, org.springframework.security.web.authentication.logout.LogoutFilter@6f6f65a4, com.miro.flightadvisor.security.services.JwtTokenFilter@66944c7c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2579d8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@651caa2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14993306, org.springframework.security.web.session.SessionManagementFilter@46b21632, org.springframework.security.web.access.ExceptionTranslationFilter@5c5f12e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31e3c34]
2020-05-31 11:47:53.238  INFO 25660 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:47:53.349  INFO 25660 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:47:53.350  INFO 25660 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:47:53.641  INFO 25660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:47:53.642  INFO 25660 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:47:53.650  INFO 25660 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:47:53.679  INFO 25660 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:47:53.804  INFO 25660 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:47:53.805  INFO 25660 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:47:53.822  INFO 25660 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:47:54.020  INFO 25660 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:47:54.029  INFO 25660 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.152 seconds (JVM running for 4.679)
2020-05-31 11:47:54.115  INFO 25660 --- [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:47:54.116  INFO 25660 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:47:54.125  INFO 25660 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-05-31 11:47:57.421  INFO 25660 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:47:57.432  INFO 25660 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:48:28.535  INFO 25660 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:48:28.544  INFO 25660 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:48:28.545  INFO 25660 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:48:28.554  INFO 25660 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:48:28.557  INFO 25660 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:48:32.023  INFO 26134 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 26134 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:48:32.026 DEBUG 26134 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:48:32.027  INFO 26134 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:48:33.059  INFO 26134 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:48:33.109  INFO 26134 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 JPA repository interfaces.
2020-05-31 11:48:33.336  INFO 26134 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3f702946' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:48:33.339  INFO 26134 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:48:33.491  INFO 26134 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:48:33.497  INFO 26134 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:48:33.497  INFO 26134 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:48:33.541  INFO 26134 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:48:33.541  INFO 26134 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1464 ms
2020-05-31 11:48:33.643  INFO 26134 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:48:33.764  INFO 26134 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:48:33.768  INFO 26134 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:48:33.881  INFO 26134 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:48:33.906  INFO 26134 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:48:33.970  INFO 26134 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:48:34.027  INFO 26134 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:48:34.491  INFO 26134 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:48:34.495  INFO 26134 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:48:34.550  WARN 26134 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:48:35.065  INFO 26134 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:48:35.156  INFO 26134 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:48:35.156  INFO 26134 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:48:35.156  INFO 26134 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:48:35.156  INFO 26134 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:48:35.181  INFO 26134 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67593f7b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7747cc1b, org.springframework.security.web.header.HeaderWriterFilter@e895e3e, org.springframework.security.web.authentication.logout.LogoutFilter@2842c098, com.miro.flightadvisor.security.services.JwtTokenFilter@2773504f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74bfdd66, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9d7366, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@497921d0, org.springframework.security.web.session.SessionManagementFilter@26f480c6, org.springframework.security.web.access.ExceptionTranslationFilter@614cd187, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16ef1160]
2020-05-31 11:48:35.198  INFO 26134 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:48:35.310  INFO 26134 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:48:35.311  INFO 26134 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:48:35.606  INFO 26134 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:48:35.607  INFO 26134 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:48:35.615  INFO 26134 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:48:35.644  INFO 26134 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:48:35.768  INFO 26134 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:48:35.769  INFO 26134 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:48:35.786  INFO 26134 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:48:35.981  INFO 26134 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:48:35.990  INFO 26134 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.216 seconds (JVM running for 4.718)
2020-05-31 11:48:36.126  INFO 26134 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:48:36.127  INFO 26134 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:48:36.134  INFO 26134 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:48:39.619  INFO 26134 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:48:39.631  INFO 26134 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:49:57.058  INFO 26134 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:49:57.060  INFO 26134 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:49:57.061  INFO 26134 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:49:57.066  INFO 26134 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:49:57.068  INFO 26134 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:50:00.312  INFO 26641 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 26641 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:50:00.314 DEBUG 26641 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:50:00.315  INFO 26641 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:50:01.204  INFO 26641 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:50:01.253  INFO 26641 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 6 JPA repository interfaces.
2020-05-31 11:50:01.475  INFO 26641 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@fb713e7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:50:01.479  INFO 26641 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:50:01.647  INFO 26641 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:50:01.653  INFO 26641 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:50:01.653  INFO 26641 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:50:01.699  INFO 26641 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:50:01.699  INFO 26641 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1344 ms
2020-05-31 11:50:01.797  INFO 26641 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:50:01.912  INFO 26641 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:50:01.916  INFO 26641 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:50:02.031  INFO 26641 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:50:02.056  INFO 26641 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:50:02.117  INFO 26641 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:50:02.176  INFO 26641 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:50:02.644  INFO 26641 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:50:02.648  INFO 26641 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:50:02.699  WARN 26641 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:50:03.197  INFO 26641 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:50:03.282  INFO 26641 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:50:03.283  INFO 26641 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:50:03.283  INFO 26641 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:50:03.283  INFO 26641 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:50:03.306  INFO 26641 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527d5e48, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a5b38e6, org.springframework.security.web.header.HeaderWriterFilter@49925d21, org.springframework.security.web.authentication.logout.LogoutFilter@76eadc5a, com.miro.flightadvisor.security.services.JwtTokenFilter@407b41e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e8afc2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e895e3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3291d9c2, org.springframework.security.web.session.SessionManagementFilter@1d7f7962, org.springframework.security.web.access.ExceptionTranslationFilter@309cf657, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e998033]
2020-05-31 11:50:03.323  INFO 26641 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:50:03.415  INFO 26641 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:50:03.416  INFO 26641 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:50:03.751  INFO 26641 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:50:03.752  INFO 26641 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:50:03.760  INFO 26641 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:50:03.788  INFO 26641 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:50:03.906  INFO 26641 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:50:03.907  INFO 26641 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:50:03.925  INFO 26641 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:50:04.117  INFO 26641 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:50:04.126  INFO 26641 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.047 seconds (JVM running for 4.49)
2020-05-31 11:50:04.439  INFO 26641 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:50:04.439  INFO 26641 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:50:04.449  INFO 26641 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-05-31 11:50:07.158  INFO 26641 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:50:07.171  INFO 26641 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:50:54.144  INFO 26641 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:50:54.147  INFO 26641 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:50:54.147  INFO 26641 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:50:54.152  INFO 26641 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:50:54.155  INFO 26641 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:50:57.924  INFO 27117 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 27117 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:50:57.927 DEBUG 27117 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:50:57.927  INFO 27117 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:50:58.901  INFO 27117 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:50:58.967  INFO 27117 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59ms. Found 6 JPA repository interfaces.
2020-05-31 11:50:59.236  INFO 27117 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5c7668ba' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:50:59.238  INFO 27117 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:50:59.399  INFO 27117 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:50:59.404  INFO 27117 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:50:59.404  INFO 27117 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:50:59.452  INFO 27117 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:50:59.452  INFO 27117 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1487 ms
2020-05-31 11:50:59.557  INFO 27117 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:50:59.683  INFO 27117 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:50:59.687  INFO 27117 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:50:59.813  INFO 27117 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:50:59.840  INFO 27117 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:50:59.924  INFO 27117 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:50:59.993  INFO 27117 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:51:00.519  INFO 27117 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:51:00.524  INFO 27117 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:51:00.592  WARN 27117 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:51:01.158  INFO 27117 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:51:01.252  INFO 27117 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:51:01.253  INFO 27117 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:51:01.253  INFO 27117 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:51:01.253  INFO 27117 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:51:01.277  INFO 27117 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40d10264, org.springframework.security.web.context.SecurityContextPersistenceFilter@6fc7e828, org.springframework.security.web.header.HeaderWriterFilter@e7d0db2, org.springframework.security.web.authentication.logout.LogoutFilter@476c137b, com.miro.flightadvisor.security.services.JwtTokenFilter@6edd4fe2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ce24a1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@417446d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53918b5e, org.springframework.security.web.session.SessionManagementFilter@76cf91c9, org.springframework.security.web.access.ExceptionTranslationFilter@77476fcf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2773504f]
2020-05-31 11:51:01.294  INFO 27117 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:51:01.308  INFO 27117 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:51:01.308  INFO 27117 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:51:01.729  INFO 27117 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:51:01.730  INFO 27117 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:51:01.739  INFO 27117 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:51:01.769  INFO 27117 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:51:01.897  INFO 27117 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:51:01.898  INFO 27117 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:51:01.919  INFO 27117 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:51:02.127  INFO 27117 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:51:02.138  INFO 27117 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.449 seconds (JVM running for 4.952)
2020-05-31 11:51:02.465  INFO 27117 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:51:02.465  INFO 27117 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:51:02.472  INFO 27117 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 11:51:09.206  INFO 27117 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:51:09.208  INFO 27117 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:51:09.209  INFO 27117 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:51:09.214  INFO 27117 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:51:09.217  INFO 27117 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:51:12.425  INFO 27562 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 27562 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:51:12.427 DEBUG 27562 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:51:12.428  INFO 27562 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:51:13.384  INFO 27562 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:51:13.437  INFO 27562 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 JPA repository interfaces.
2020-05-31 11:51:13.674  INFO 27562 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6a937336' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:51:13.678  INFO 27562 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:51:13.863  INFO 27562 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:51:13.870  INFO 27562 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:51:13.870  INFO 27562 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:51:13.925  INFO 27562 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:51:13.925  INFO 27562 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1454 ms
2020-05-31 11:51:14.038  INFO 27562 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:51:14.159  INFO 27562 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:51:14.163  INFO 27562 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:51:14.304  INFO 27562 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:51:14.334  INFO 27562 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:51:14.414  INFO 27562 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:51:14.484  INFO 27562 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:51:15.014  INFO 27562 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:51:15.018  INFO 27562 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:51:15.078  WARN 27562 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:51:15.617  INFO 27562 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:51:15.704  INFO 27562 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:51:15.705  INFO 27562 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:51:15.705  INFO 27562 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:51:15.705  INFO 27562 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:51:15.730  INFO 27562 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4780341, org.springframework.security.web.context.SecurityContextPersistenceFilter@68f69ca3, org.springframework.security.web.header.HeaderWriterFilter@76eadc5a, org.springframework.security.web.authentication.logout.LogoutFilter@e1a150c, com.miro.flightadvisor.security.services.JwtTokenFilter@3c910acd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b058bfd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2842c098, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@612ac38b, org.springframework.security.web.session.SessionManagementFilter@5c5f12e, org.springframework.security.web.access.ExceptionTranslationFilter@2ce24a1a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73a5d86c]
2020-05-31 11:51:15.748  INFO 27562 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:51:15.762  INFO 27562 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:51:15.763  INFO 27562 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:51:16.181  INFO 27562 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:51:16.182  INFO 27562 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:51:16.190  INFO 27562 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:51:16.218  INFO 27562 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:51:16.340  INFO 27562 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:51:16.341  INFO 27562 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:51:16.358  INFO 27562 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:51:16.548  INFO 27562 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:51:16.557  INFO 27562 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.395 seconds (JVM running for 4.852)
2020-05-31 11:51:16.999  INFO 27562 --- [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:51:16.999  INFO 27562 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:51:17.011  INFO 27562 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:51:19.888  INFO 27562 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:51:19.901  INFO 27562 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:51:38.932  INFO 27562 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:51:38.935  INFO 27562 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:51:38.935  INFO 27562 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:51:38.941  INFO 27562 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:51:38.944  INFO 27562 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:51:42.000  INFO 28036 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 28036 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:51:42.002 DEBUG 28036 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:51:42.003  INFO 28036 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:51:42.943  INFO 28036 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:51:42.992  INFO 28036 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 6 JPA repository interfaces.
2020-05-31 11:51:43.211  INFO 28036 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@53830483' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:51:43.214  INFO 28036 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:51:43.373  INFO 28036 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:51:43.378  INFO 28036 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:51:43.378  INFO 28036 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:51:43.435  INFO 28036 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:51:43.436  INFO 28036 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1393 ms
2020-05-31 11:51:43.544  INFO 28036 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:51:43.663  INFO 28036 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:51:43.667  INFO 28036 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:51:43.779  INFO 28036 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:51:43.803  INFO 28036 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:51:43.863  INFO 28036 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:51:43.917  INFO 28036 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:51:44.369  INFO 28036 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:51:44.373  INFO 28036 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:51:44.425  WARN 28036 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:51:44.920  INFO 28036 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:51:45.007  INFO 28036 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:51:45.008  INFO 28036 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:51:45.008  INFO 28036 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:51:45.008  INFO 28036 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:51:45.032  INFO 28036 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2567c091, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c000cc4, org.springframework.security.web.header.HeaderWriterFilter@71eff6a3, org.springframework.security.web.authentication.logout.LogoutFilter@a7ae340, com.miro.flightadvisor.security.services.JwtTokenFilter@7747cc1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45d46254, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@620572db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76cf91c9, org.springframework.security.web.session.SessionManagementFilter@2b80497f, org.springframework.security.web.access.ExceptionTranslationFilter@ecf028c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@775edae0]
2020-05-31 11:51:45.051  INFO 28036 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:51:45.143  INFO 28036 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:51:45.144  INFO 28036 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:51:45.483  INFO 28036 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:51:45.484  INFO 28036 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:51:45.492  INFO 28036 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:51:45.520  INFO 28036 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:51:45.641  INFO 28036 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:51:45.642  INFO 28036 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:51:45.659  INFO 28036 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:51:45.852  INFO 28036 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:51:45.861  INFO 28036 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.115 seconds (JVM running for 4.539)
2020-05-31 11:51:46.112  INFO 28036 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:51:46.112  INFO 28036 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:51:46.118  INFO 28036 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-05-31 11:51:49.550  INFO 28036 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:51:49.562  INFO 28036 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:52:10.505  INFO 28036 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:52:10.506  INFO 28036 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:52:53.916  INFO 28036 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:52:53.919  INFO 28036 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:52:53.919  INFO 28036 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:52:53.924  INFO 28036 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:52:53.927  INFO 28036 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:52:57.919  INFO 28625 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 28625 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:52:57.921 DEBUG 28625 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:52:57.922  INFO 28625 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:52:59.192  INFO 28625 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:52:59.249  INFO 28625 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51ms. Found 6 JPA repository interfaces.
2020-05-31 11:52:59.523  INFO 28625 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@73d4066e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:52:59.526  INFO 28625 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:52:59.676  INFO 28625 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:52:59.681  INFO 28625 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:52:59.681  INFO 28625 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:52:59.724  INFO 28625 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:52:59.724  INFO 28625 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1753 ms
2020-05-31 11:52:59.837  INFO 28625 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:52:59.999  INFO 28625 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:53:00.006  INFO 28625 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:53:00.164  INFO 28625 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:53:00.194  INFO 28625 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:53:00.266  INFO 28625 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:53:00.321  INFO 28625 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:53:00.779  INFO 28625 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:53:00.783  INFO 28625 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:53:00.843  WARN 28625 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:53:01.359  INFO 28625 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:53:01.471  INFO 28625 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:53:01.471  INFO 28625 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:53:01.471  INFO 28625 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:53:01.471  INFO 28625 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:53:01.496  INFO 28625 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b795db7, org.springframework.security.web.context.SecurityContextPersistenceFilter@76b642aa, org.springframework.security.web.header.HeaderWriterFilter@50bb1c1f, org.springframework.security.web.authentication.logout.LogoutFilter@49d979c4, com.miro.flightadvisor.security.services.JwtTokenFilter@586486c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@286dfa20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@687e561b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b849fa6, org.springframework.security.web.session.SessionManagementFilter@2cd5b19c, org.springframework.security.web.access.ExceptionTranslationFilter@79273a4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2095c331]
2020-05-31 11:53:01.514  INFO 28625 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:53:01.529  INFO 28625 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:53:01.529  INFO 28625 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:53:01.933  INFO 28625 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:53:01.934  INFO 28625 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:53:01.944  INFO 28625 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:53:01.975  INFO 28625 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:53:02.106  INFO 28625 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:53:02.107  INFO 28625 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:53:02.125  INFO 28625 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:53:02.332  INFO 28625 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:53:02.343  INFO 28625 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.825 seconds (JVM running for 5.338)
2020-05-31 11:53:02.849  INFO 28625 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:53:02.850  INFO 28625 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:53:02.860  INFO 28625 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-05-31 11:53:05.727  INFO 28625 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:53:05.793  INFO 28625 --- [http-nio-8080-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:53:10.806  INFO 28625 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:53:10.813  INFO 28625 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 11:53:19.014  INFO 28625 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:53:19.023  INFO 28625 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:53:29.260  INFO 28625 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 11:55:37.474  INFO 28625 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 11:55:37.477  INFO 28625 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:55:37.477  INFO 28625 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 11:55:37.482  INFO 28625 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 11:55:37.485  INFO 28625 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 11:55:39.808  INFO 29216 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 29216 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 11:55:39.809 DEBUG 29216 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 11:55:39.810  INFO 29216 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 11:55:40.780  INFO 29216 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 11:55:40.828  INFO 29216 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 6 JPA repository interfaces.
2020-05-31 11:55:41.069  INFO 29216 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@45c2e0a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:55:41.073  INFO 29216 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 11:55:41.219  INFO 29216 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 11:55:41.223  INFO 29216 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 11:55:41.224  INFO 29216 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 11:55:41.266  INFO 29216 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 11:55:41.267  INFO 29216 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1421 ms
2020-05-31 11:55:41.380  INFO 29216 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 11:55:41.502  INFO 29216 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 11:55:41.506  INFO 29216 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 11:55:41.630  INFO 29216 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 11:55:41.657  INFO 29216 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 11:55:41.719  INFO 29216 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 11:55:41.775  INFO 29216 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 11:55:42.256  INFO 29216 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 11:55:42.260  INFO 29216 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 11:55:42.320  WARN 29216 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 11:55:42.862  INFO 29216 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 11:55:42.961  INFO 29216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 11:55:42.961  INFO 29216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 11:55:42.961  INFO 29216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 11:55:42.961  INFO 29216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 11:55:42.988  INFO 29216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c05097c, org.springframework.security.web.context.SecurityContextPersistenceFilter@77476fcf, org.springframework.security.web.header.HeaderWriterFilter@38c55a8a, org.springframework.security.web.authentication.logout.LogoutFilter@72237be8, com.miro.flightadvisor.security.services.JwtTokenFilter@562f6681, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e7d0db2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@775edae0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f6f65a4, org.springframework.security.web.session.SessionManagementFilter@6802d023, org.springframework.security.web.access.ExceptionTranslationFilter@6b289535, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76f9e000]
2020-05-31 11:55:43.007  INFO 29216 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 11:55:43.023  INFO 29216 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 11:55:43.023  INFO 29216 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 11:55:43.445  INFO 29216 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 11:55:43.446  INFO 29216 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 11:55:43.460  INFO 29216 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 11:55:43.490  INFO 29216 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 11:55:43.620  INFO 29216 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 11:55:43.621  INFO 29216 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 11:55:43.641  INFO 29216 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 11:55:43.844  INFO 29216 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 11:55:43.854  INFO 29216 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.289 seconds (JVM running for 4.74)
2020-05-31 11:55:43.918  INFO 29216 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 11:55:43.918  INFO 29216 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 11:55:43.925  INFO 29216 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 17:41:26.451  INFO 96820 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 96820 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 17:41:26.454 DEBUG 96820 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 17:41:26.454  INFO 96820 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 17:41:27.335  INFO 96820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 17:41:27.384  INFO 96820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 JPA repository interfaces.
2020-05-31 17:41:27.613  INFO 96820 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4eb1c69' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:41:27.616  INFO 96820 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:41:27.799  INFO 96820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 17:41:27.805  INFO 96820 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 17:41:27.805  INFO 96820 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 17:41:27.856  INFO 96820 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 17:41:27.856  INFO 96820 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1363 ms
2020-05-31 17:41:27.960  INFO 96820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 17:41:28.082  INFO 96820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 17:41:28.086  INFO 96820 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 17:41:28.214  INFO 96820 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 17:41:28.238  INFO 96820 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 17:41:28.306  INFO 96820 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 17:41:28.367  INFO 96820 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 17:41:28.897  INFO 96820 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 17:41:28.902  INFO 96820 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:41:28.965  WARN 96820 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 17:41:29.508  INFO 96820 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 17:41:29.596  INFO 96820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 17:41:29.596  INFO 96820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 17:41:29.596  INFO 96820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 17:41:29.596  INFO 96820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 17:41:29.621  INFO 96820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@85cd413, org.springframework.security.web.context.SecurityContextPersistenceFilter@35cbeb54, org.springframework.security.web.header.HeaderWriterFilter@6d7e2795, org.springframework.security.web.authentication.logout.LogoutFilter@8ce3f27, com.miro.flightadvisor.security.services.JwtTokenFilter@688d2a5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e8bd498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@309cf657, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2842c098, org.springframework.security.web.session.SessionManagementFilter@1939a394, org.springframework.security.web.access.ExceptionTranslationFilter@1a02ebe0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14ca88bc]
2020-05-31 17:41:29.638  INFO 96820 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 17:41:29.652  INFO 96820 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 17:41:29.653  INFO 96820 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 17:41:30.082  INFO 96820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 17:41:30.083  INFO 96820 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 17:41:30.092  INFO 96820 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 17:41:30.123  INFO 96820 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 17:41:30.254  INFO 96820 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 17:41:30.255  INFO 96820 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 17:41:30.276  INFO 96820 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 17:41:30.483  INFO 96820 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 17:41:30.493  INFO 96820 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.327 seconds (JVM running for 4.935)
2020-05-31 17:41:30.861  INFO 96820 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 17:41:30.861  INFO 96820 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 17:41:30.869  INFO 96820 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 17:42:19.610  INFO 96820 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:19.678  INFO 96820 --- [http-nio-8080-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 17:42:24.762  INFO 96820 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:24.769  INFO 96820 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 17:42:40.058  INFO 96820 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:40.077  INFO 96820 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:45.663  INFO 96820 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:45.664  INFO 96820 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:53.611  INFO 96820 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:42:53.626 DEBUG 96820 --- [http-nio-8080-exec-6] c.m.f.controllers.FlightRouteController  : Fetching cheapest flight on 2020-05-31
2020-05-31 17:42:58.654  INFO 96820 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:43:10.708  INFO 96820 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 17:56:11.849  INFO 96820 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 17:56:11.852  INFO 96820 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:56:11.852  INFO 96820 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 17:56:11.859  INFO 96820 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 17:56:11.861  INFO 96820 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 17:56:19.220  INFO 99237 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 99237 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 17:56:19.223 DEBUG 99237 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 17:56:19.224  INFO 99237 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 17:56:20.459  INFO 99237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 17:56:20.530  INFO 99237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62ms. Found 6 JPA repository interfaces.
2020-05-31 17:56:20.804  INFO 99237 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@858d8b4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:56:20.808  INFO 99237 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:56:20.979  INFO 99237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 17:56:20.985  INFO 99237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 17:56:20.986  INFO 99237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 17:56:21.043  INFO 99237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 17:56:21.044  INFO 99237 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1771 ms
2020-05-31 17:56:21.169  INFO 99237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 17:56:21.333  INFO 99237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 17:56:21.337  INFO 99237 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 17:56:21.480  INFO 99237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 17:56:21.508  INFO 99237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 17:56:21.586  INFO 99237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 17:56:21.655  INFO 99237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 17:56:22.230  INFO 99237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 17:56:22.235  INFO 99237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:56:22.309  WARN 99237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 17:56:22.392  WARN 99237 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cityController': Unsatisfied dependency expressed through field 'webClient'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2020-05-31 17:56:22.392  INFO 99237 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:56:22.392  INFO 99237 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 17:56:22.401  INFO 99237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 17:56:22.402  INFO 99237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 17:56:22.403  INFO 99237 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-05-31 17:56:22.416  INFO 99237 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-05-31 17:56:22.517 ERROR 99237 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field webClient in com.miro.flightadvisor.controllers.CityController required a bean of type 'org.springframework.web.reactive.function.client.WebClient' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.web.reactive.function.client.WebClient' in your configuration.

2020-05-31 17:56:22.524  WARN 99237 --- [main] o.s.boot.SpringApplication               : Unable to close ApplicationContext

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationAvailability' defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.miro.flightadvisor.FlightAdvisorServiceApplication.main(FlightAdvisorServiceApplication.java:39)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:835)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:151)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1141)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1114)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:506)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	... 52 common frames omitted

2020-05-31 17:59:39.378  INFO 99957 --- [main] m.f.FlightAdvisorServiceApplicationTests : Starting FlightAdvisorServiceApplicationTests on ubuntu with PID 99957 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 17:59:39.379 DEBUG 99957 --- [main] m.f.FlightAdvisorServiceApplicationTests : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 17:59:39.380  INFO 99957 --- [main] m.f.FlightAdvisorServiceApplicationTests : No active profile set, falling back to default profiles: default
2020-05-31 17:59:40.497  INFO 99957 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 17:59:40.678  INFO 99957 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 174ms. Found 6 JPA repository interfaces.
2020-05-31 17:59:41.198  INFO 99957 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@da28d03' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:59:41.209  INFO 99957 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:59:41.393  INFO 99957 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 17:59:41.571  INFO 99957 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 17:59:41.634  INFO 99957 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 17:59:41.679  INFO 99957 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 17:59:41.774  INFO 99957 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 17:59:41.885  INFO 99957 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 17:59:42.726  INFO 99957 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 17:59:42.732  INFO 99957 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:59:42.836  WARN 99957 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 17:59:44.066  INFO 99957 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 17:59:44.266  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 17:59:44.266  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 17:59:44.266  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 17:59:44.266  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 17:59:44.350  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3987a1e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@39b95a80, org.springframework.security.web.header.HeaderWriterFilter@cbdc0f4, org.springframework.security.web.authentication.logout.LogoutFilter@626766fd, com.miro.flightadvisor.security.services.JwtTokenFilter@20d65767, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@402c9a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25c548d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@250e8712, org.springframework.security.web.session.SessionManagementFilter@7bdf94f2, org.springframework.security.web.access.ExceptionTranslationFilter@372841d2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39840986]
2020-05-31 17:59:44.411  INFO 99957 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 17:59:44.432  INFO 99957 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 17:59:44.442  INFO 99957 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 17:59:45.052  INFO 99957 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 17:59:45.189  INFO 99957 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 17:59:45.208  INFO 99957 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 17:59:45.246  INFO 99957 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 17:59:45.433  INFO 99957 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 17:59:45.435  INFO 99957 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 17:59:45.471  INFO 99957 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 17:59:45.744  INFO 99957 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 17:59:45.755  INFO 99957 --- [main] m.f.FlightAdvisorServiceApplicationTests : Started FlightAdvisorServiceApplicationTests in 6.569 seconds (JVM running for 7.532)
2020-05-31 17:59:45.868  INFO 99957 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.miro.flightadvisor.controllers.CityBeanControllerTest], using SpringBootContextLoader
2020-05-31 17:59:45.869  INFO 99957 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.miro.flightadvisor.controllers.CityBeanControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2020-05-31 17:59:45.869  INFO 99957 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.miro.flightadvisor.controllers.CityBeanControllerTest]: CityBeanControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2020-05-31 17:59:45.879  INFO 99957 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.miro.flightadvisor.FlightAdvisorServiceApplication for test class com.miro.flightadvisor.controllers.CityBeanControllerTest
2020-05-31 17:59:45.881  INFO 99957 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2020-05-31 17:59:45.882  INFO 99957 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73839f22, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1512efe9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7cc7e441, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@bb1b872, org.springframework.test.context.support.DirtiesContextTestExecutionListener@64245ca9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66cb9a63, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@256d8f17, org.springframework.test.context.event.EventPublishingTestExecutionListener@2319c1e0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@659e003e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5f3c866c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@16e0afab, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7b9b6a56, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6e111aeb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55a5eea3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46ab8e4b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@66428512]
2020-05-31 17:59:45.983  INFO 99957 --- [main] c.m.f.c.CityBeanControllerTest           : Starting CityBeanControllerTest on ubuntu with PID 99957 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 17:59:45.983 DEBUG 99957 --- [main] c.m.f.c.CityBeanControllerTest           : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 17:59:45.983  INFO 99957 --- [main] c.m.f.c.CityBeanControllerTest           : No active profile set, falling back to default profiles: default
2020-05-31 17:59:46.490  INFO 99957 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 17:59:46.507  INFO 99957 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16ms. Found 6 JPA repository interfaces.
2020-05-31 17:59:46.639  INFO 99957 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@22bbbe6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:59:46.647  INFO 99957 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 17:59:46.843  INFO 99957 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 17:59:46.851  INFO 99957 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 17:59:46.852  INFO 99957 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 17:59:46.913  INFO 99957 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 17:59:46.914  INFO 99957 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 929 ms
2020-05-31 17:59:47.012  INFO 99957 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-05-31 17:59:47.015  INFO 99957 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-05-31 17:59:47.015  INFO 99957 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 17:59:47.198  INFO 99957 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 17:59:47.202  INFO 99957 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 17:59:47.302  INFO 99957 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 17:59:47.303  INFO 99957 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:59:47.346  WARN 99957 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 17:59:47.786  INFO 99957 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 17:59:47.878  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 17:59:47.878  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 17:59:47.878  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 17:59:47.878  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 17:59:47.926  INFO 99957 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41bd8ec9, org.springframework.security.web.context.SecurityContextPersistenceFilter@672ba9cc, org.springframework.security.web.header.HeaderWriterFilter@68e8bbab, org.springframework.security.web.authentication.logout.LogoutFilter@647468a7, com.miro.flightadvisor.security.services.JwtTokenFilter@1d306d27, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bd6c35e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@564e0a6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@557abb68, org.springframework.security.web.session.SessionManagementFilter@5dfaa2f0, org.springframework.security.web.access.ExceptionTranslationFilter@685e97e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@482034fb]
2020-05-31 17:59:47.954  INFO 99957 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 17:59:47.960  INFO 99957 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 17:59:47.967  INFO 99957 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 17:59:48.354  INFO 99957 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 35961 (http) with context path ''
2020-05-31 17:59:48.355  INFO 99957 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 17:59:48.356  INFO 99957 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 17:59:48.364  INFO 99957 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 17:59:48.431  INFO 99957 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 17:59:48.432  INFO 99957 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 17:59:48.448  INFO 99957 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 17:59:48.509  INFO 99957 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 17:59:48.515  INFO 99957 --- [main] c.m.f.c.CityBeanControllerTest           : Started CityBeanControllerTest in 2.554 seconds (JVM running for 10.292)
2020-05-31 17:59:48.684  INFO 99957 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 17:59:48.683  INFO 99957 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 17:59:48.696  INFO 99957 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:59:48.696  INFO 99957 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 17:59:48.696  INFO 99957 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 17:59:48.697  INFO 99957 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 17:59:48.706  INFO 99957 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 17:59:48.708  INFO 99957 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-05-31 17:59:48.711  INFO 99957 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 17:59:48.714  INFO 99957 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-05-31 18:00:17.564  INFO 100776 --- [main] m.f.FlightAdvisorServiceApplicationTests : Starting FlightAdvisorServiceApplicationTests on ubuntu with PID 100776 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:00:17.565 DEBUG 100776 --- [main] m.f.FlightAdvisorServiceApplicationTests : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:00:17.566  INFO 100776 --- [main] m.f.FlightAdvisorServiceApplicationTests : No active profile set, falling back to default profiles: default
2020-05-31 18:00:18.692  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:00:18.861  INFO 100776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161ms. Found 6 JPA repository interfaces.
2020-05-31 18:00:19.328  INFO 100776 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@45545e7a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:00:19.341  INFO 100776 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:00:19.516  INFO 100776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:00:19.705  INFO 100776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:00:19.765  INFO 100776 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:00:19.816  INFO 100776 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:00:19.942  INFO 100776 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:00:20.049  INFO 100776 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:00:20.841  INFO 100776 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:00:20.848  INFO 100776 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:00:20.947  WARN 100776 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:00:22.088  INFO 100776 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 18:00:22.266  INFO 100776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 18:00:22.266  INFO 100776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 18:00:22.267  INFO 100776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 18:00:22.267  INFO 100776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 18:00:22.352  INFO 100776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49bc71b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@51c6e775, org.springframework.security.web.header.HeaderWriterFilter@74844216, org.springframework.security.web.authentication.logout.LogoutFilter@eddc9bb, com.miro.flightadvisor.security.services.JwtTokenFilter@7efa366, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c8d638a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52e92f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c2f8ecb, org.springframework.security.web.session.SessionManagementFilter@96dfcbb, org.springframework.security.web.access.ExceptionTranslationFilter@42f2cae8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8e8ceb3]
2020-05-31 18:00:22.413  INFO 100776 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 18:00:22.436  INFO 100776 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 18:00:22.444  INFO 100776 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 18:00:23.113  INFO 100776 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:00:23.241  INFO 100776 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 18:00:23.256  INFO 100776 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 18:00:23.292  INFO 100776 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 18:00:23.492  INFO 100776 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 18:00:23.494  INFO 100776 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 18:00:23.519  INFO 100776 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 18:00:23.769  INFO 100776 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 18:00:23.781  INFO 100776 --- [main] m.f.FlightAdvisorServiceApplicationTests : Started FlightAdvisorServiceApplicationTests in 6.408 seconds (JVM running for 7.193)
2020-05-31 18:00:23.928  INFO 100776 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 18:00:23.933  INFO 100776 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:00:23.933  INFO 100776 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:00:23.940  INFO 100776 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:00:23.943  INFO 100776 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:02:14.383  INFO 101308 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 101308 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:02:14.385 DEBUG 101308 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:02:14.385  INFO 101308 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:02:15.482  INFO 101308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:02:15.548  INFO 101308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60ms. Found 6 JPA repository interfaces.
2020-05-31 18:02:15.840  INFO 101308 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@64984b0f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:02:15.845  INFO 101308 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:02:16.033  INFO 101308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:02:16.039  INFO 101308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:02:16.039  INFO 101308 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:02:16.100  INFO 101308 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:02:16.100  INFO 101308 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1673 ms
2020-05-31 18:02:16.280  INFO 101308 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:02:16.367  INFO 101308 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:02:16.372  INFO 101308 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:02:16.512  INFO 101308 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:02:16.541  INFO 101308 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:02:16.615  INFO 101308 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:02:16.683  INFO 101308 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:02:17.353  INFO 101308 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:02:17.360  INFO 101308 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:02:17.502  WARN 101308 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:02:17.614  WARN 101308 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cityController' defined in file [/home/miro/IdeaProjects/flight-advisor/target/classes/com/miro/flightadvisor/controllers/CityController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2020-05-31 18:02:17.614  INFO 101308 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:02:17.614  INFO 101308 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:02:17.627  INFO 101308 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:02:17.629  INFO 101308 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:02:17.631  INFO 101308 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-05-31 18:02:17.644  INFO 101308 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-05-31 18:02:17.739 ERROR 101308 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.miro.flightadvisor.controllers.CityController required a bean of type 'org.springframework.web.reactive.function.client.WebClient' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.reactive.function.client.WebClient' in your configuration.

2020-05-31 18:02:17.745  WARN 101308 --- [main] o.s.boot.SpringApplication               : Unable to close ApplicationContext

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationAvailability' defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.miro.flightadvisor.FlightAdvisorServiceApplication.main(FlightAdvisorServiceApplication.java:39)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:835)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:151)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1141)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1114)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:506)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	... 52 common frames omitted

2020-05-31 18:02:37.299  INFO 101788 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 101788 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:02:37.301 DEBUG 101788 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:02:37.301  INFO 101788 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:02:38.407  INFO 101788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:02:38.470  INFO 101788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57ms. Found 6 JPA repository interfaces.
2020-05-31 18:02:38.737  INFO 101788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21c815e4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:02:38.740  INFO 101788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:02:38.919  INFO 101788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:02:38.924  INFO 101788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:02:38.925  INFO 101788 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:02:38.977  INFO 101788 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:02:38.977  INFO 101788 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1639 ms
2020-05-31 18:02:39.085  INFO 101788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:02:39.205  INFO 101788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:02:39.212  INFO 101788 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:02:39.347  INFO 101788 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:02:39.376  INFO 101788 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:02:39.446  INFO 101788 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:02:39.510  INFO 101788 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:02:40.046  INFO 101788 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:02:40.051  INFO 101788 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:02:40.121  WARN 101788 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:02:40.204  WARN 101788 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cityController' defined in file [/home/miro/IdeaProjects/flight-advisor/target/classes/com/miro/flightadvisor/controllers/CityController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2020-05-31 18:02:40.204  INFO 101788 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:02:40.204  INFO 101788 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:02:40.214  INFO 101788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:02:40.216  INFO 101788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:02:40.217  INFO 101788 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-05-31 18:02:40.230  INFO 101788 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-05-31 18:02:40.322 ERROR 101788 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.miro.flightadvisor.controllers.CityController required a bean of type 'org.springframework.web.reactive.function.client.WebClient' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.reactive.function.client.WebClient' in your configuration.

2020-05-31 18:02:40.329  WARN 101788 --- [main] o.s.boot.SpringApplication               : Unable to close ApplicationContext

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationAvailability' defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.miro.flightadvisor.FlightAdvisorServiceApplication.main(FlightAdvisorServiceApplication.java:39)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:835)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:151)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1141)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1114)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:506)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	... 52 common frames omitted

2020-05-31 18:03:12.550  INFO 102258 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 102258 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:03:12.553 DEBUG 102258 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:03:12.553  INFO 102258 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:03:13.610  INFO 102258 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:03:13.677  INFO 102258 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60ms. Found 6 JPA repository interfaces.
2020-05-31 18:03:13.928  INFO 102258 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@33899f7a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:03:13.933  INFO 102258 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:03:14.108  INFO 102258 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:03:14.114  INFO 102258 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:03:14.114  INFO 102258 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:03:14.172  INFO 102258 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:03:14.173  INFO 102258 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1572 ms
2020-05-31 18:03:14.352  INFO 102258 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:03:14.425  INFO 102258 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:03:14.429  INFO 102258 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:03:14.566  INFO 102258 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:03:14.594  INFO 102258 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:03:14.664  INFO 102258 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:03:14.730  INFO 102258 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:03:15.239  INFO 102258 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:03:15.244  INFO 102258 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:03:15.314  WARN 102258 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:03:15.394  WARN 102258 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cityController' defined in file [/home/miro/IdeaProjects/flight-advisor/target/classes/com/miro/flightadvisor/controllers/CityController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2020-05-31 18:03:15.395  INFO 102258 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:03:15.395  INFO 102258 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:03:15.403  INFO 102258 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:03:15.405  INFO 102258 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:03:15.406  INFO 102258 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-05-31 18:03:15.418  INFO 102258 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-05-31 18:03:15.514 ERROR 102258 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.miro.flightadvisor.controllers.CityController required a bean of type 'org.springframework.web.reactive.function.client.WebClient' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.reactive.function.client.WebClient' in your configuration.

2020-05-31 18:03:15.520  WARN 102258 --- [main] o.s.boot.SpringApplication               : Unable to close ApplicationContext

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationAvailability' defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245)
	at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81)
	at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.miro.flightadvisor.FlightAdvisorServiceApplication.main(FlightAdvisorServiceApplication.java:39)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:835)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:151)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1141)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1114)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:506)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	... 52 common frames omitted

2020-05-31 18:10:34.429  INFO 103652 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 103652 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:10:34.432 DEBUG 103652 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:10:34.432  INFO 103652 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:10:35.536  INFO 103652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:10:35.607  INFO 103652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64ms. Found 6 JPA repository interfaces.
2020-05-31 18:10:35.895  INFO 103652 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@20cece0b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:10:35.898  INFO 103652 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:10:36.088  INFO 103652 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:10:36.095  INFO 103652 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:10:36.096  INFO 103652 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:10:36.159  INFO 103652 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:10:36.159  INFO 103652 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1687 ms
2020-05-31 18:10:36.333  INFO 103652 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:10:36.420  INFO 103652 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:10:36.425  INFO 103652 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:10:36.580  INFO 103652 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:10:36.614  INFO 103652 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:10:36.695  INFO 103652 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:10:36.763  INFO 103652 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:10:37.432  INFO 103652 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:10:37.440  INFO 103652 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:10:37.557  WARN 103652 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:10:38.177  INFO 103652 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 18:10:38.282  INFO 103652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 18:10:38.282  INFO 103652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 18:10:38.282  INFO 103652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 18:10:38.282  INFO 103652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 18:10:38.282  INFO 103652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/call/*'], []
2020-05-31 18:10:38.312  INFO 103652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@543ac221, org.springframework.security.web.context.SecurityContextPersistenceFilter@183ef89a, org.springframework.security.web.header.HeaderWriterFilter@33f2eb04, org.springframework.security.web.authentication.logout.LogoutFilter@2aa811f9, com.miro.flightadvisor.security.services.JwtTokenFilter@2270f58d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fa7ce4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5649f55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50e1f3fc, org.springframework.security.web.session.SessionManagementFilter@4bb9f7d4, org.springframework.security.web.access.ExceptionTranslationFilter@4d75c604, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a69014e]
2020-05-31 18:10:38.333  INFO 103652 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 18:10:38.369  INFO 103652 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 18:10:38.370  INFO 103652 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 18:10:38.835  INFO 103652 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 18:10:38.836  INFO 103652 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 18:10:38.846  INFO 103652 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 18:10:38.876  INFO 103652 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 18:10:39.022  INFO 103652 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 18:10:39.024  INFO 103652 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 18:10:39.045  INFO 103652 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 18:10:39.261  INFO 103652 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 18:10:39.272  INFO 103652 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 5.12 seconds (JVM running for 5.629)
2020-05-31 18:10:39.479  INFO 103652 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 18:10:39.479  INFO 103652 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 18:10:39.489  INFO 103652 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-05-31 18:10:55.994  INFO 103652 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 18:10:56.006  INFO 103652 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 18:11:04.059  INFO 103652 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 18:11:04.063  INFO 103652 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:11:04.063  INFO 103652 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:11:04.070  INFO 103652 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:11:04.073  INFO 103652 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:11:07.773  INFO 104176 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 104176 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:11:07.775 DEBUG 104176 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:11:07.776  INFO 104176 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:11:08.794  INFO 104176 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:11:08.852  INFO 104176 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52ms. Found 6 JPA repository interfaces.
2020-05-31 18:11:09.097  INFO 104176 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@35d5ac51' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:11:09.101  INFO 104176 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:11:09.273  INFO 104176 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:11:09.279  INFO 104176 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:11:09.279  INFO 104176 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:11:09.331  INFO 104176 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:11:09.331  INFO 104176 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1513 ms
2020-05-31 18:11:09.508  INFO 104176 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:11:09.589  INFO 104176 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:11:09.594  INFO 104176 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:11:09.737  INFO 104176 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:11:09.766  INFO 104176 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:11:09.845  INFO 104176 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:11:09.912  INFO 104176 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:11:10.485  INFO 104176 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:11:10.491  INFO 104176 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:11:10.570  WARN 104176 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:11:11.194  INFO 104176 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 18:11:11.287  INFO 104176 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 18:11:11.287  INFO 104176 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 18:11:11.287  INFO 104176 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 18:11:11.287  INFO 104176 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 18:11:11.287  INFO 104176 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/call/**'], []
2020-05-31 18:11:11.313  INFO 104176 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@575d48db, org.springframework.security.web.context.SecurityContextPersistenceFilter@3cb49121, org.springframework.security.web.header.HeaderWriterFilter@4b7e4d14, org.springframework.security.web.authentication.logout.LogoutFilter@54737322, com.miro.flightadvisor.security.services.JwtTokenFilter@1b36d248, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c4215d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ebd8d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e94de5f, org.springframework.security.web.session.SessionManagementFilter@5e360c3b, org.springframework.security.web.access.ExceptionTranslationFilter@7d4da729, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51468039]
2020-05-31 18:11:11.331  INFO 104176 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 18:11:11.346  INFO 104176 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 18:11:11.346  INFO 104176 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 18:11:11.889  INFO 104176 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 18:11:11.890  INFO 104176 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 18:11:11.901  INFO 104176 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 18:11:11.932  INFO 104176 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 18:11:12.081  INFO 104176 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 18:11:12.083  INFO 104176 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 18:11:12.104  INFO 104176 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 18:11:12.325  INFO 104176 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 18:11:12.337  INFO 104176 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.858 seconds (JVM running for 5.347)
2020-05-31 18:11:12.767  INFO 104176 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 18:11:12.767  INFO 104176 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 18:11:12.775  INFO 104176 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-05-31 18:11:15.047  INFO 104176 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 18:11:15.058  INFO 104176 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 18:11:16.396  INFO 104176 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 18:11:16.397  INFO 104176 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 18:11:26.835  INFO 104176 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 18:11:26.838  INFO 104176 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:11:26.839  INFO 104176 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:11:26.846  INFO 104176 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:11:26.849  INFO 104176 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:11:30.116  INFO 104688 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 104688 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:11:30.118 DEBUG 104688 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:11:30.119  INFO 104688 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:11:31.129  INFO 104688 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:11:31.193  INFO 104688 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58ms. Found 6 JPA repository interfaces.
2020-05-31 18:11:31.464  INFO 104688 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@292158f8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:11:31.466  INFO 104688 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:11:31.642  INFO 104688 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:11:31.648  INFO 104688 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:11:31.648  INFO 104688 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:11:31.705  INFO 104688 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:11:31.705  INFO 104688 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1546 ms
2020-05-31 18:11:31.866  INFO 104688 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:11:31.942  INFO 104688 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:11:31.946  INFO 104688 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:11:32.080  INFO 104688 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:11:32.106  INFO 104688 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:11:32.178  INFO 104688 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:11:32.243  INFO 104688 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:11:32.781  INFO 104688 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:11:32.786  INFO 104688 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:11:32.855  WARN 104688 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:11:33.448  INFO 104688 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 18:11:33.552  INFO 104688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 18:11:33.552  INFO 104688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 18:11:33.552  INFO 104688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 18:11:33.552  INFO 104688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 18:11:33.552  INFO 104688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/cities/**'], []
2020-05-31 18:11:33.582  INFO 104688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7323c38c, org.springframework.security.web.context.SecurityContextPersistenceFilter@11582db6, org.springframework.security.web.header.HeaderWriterFilter@50b38342, org.springframework.security.web.authentication.logout.LogoutFilter@70f91ae3, com.miro.flightadvisor.security.services.JwtTokenFilter@2c02a007, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57a5b03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@388e4c25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63a72cc6, org.springframework.security.web.session.SessionManagementFilter@351e86b2, org.springframework.security.web.access.ExceptionTranslationFilter@30665461, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54737322]
2020-05-31 18:11:33.604  INFO 104688 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 18:11:33.620  INFO 104688 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 18:11:33.621  INFO 104688 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 18:11:34.090  INFO 104688 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 18:11:34.091  INFO 104688 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 18:11:34.101  INFO 104688 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 18:11:34.133  INFO 104688 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 18:11:34.291  INFO 104688 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 18:11:34.293  INFO 104688 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 18:11:34.314  INFO 104688 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 18:11:34.525  INFO 104688 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 18:11:34.536  INFO 104688 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.695 seconds (JVM running for 5.162)
2020-05-31 18:11:34.663  INFO 104688 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 18:11:34.663  INFO 104688 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 18:11:34.670  INFO 104688 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 18:15:18.673  INFO 104688 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 18:15:18.677  INFO 104688 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:15:18.677  INFO 104688 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:15:18.683  INFO 104688 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:15:18.685  INFO 104688 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:15:22.273  INFO 105631 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 105631 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:15:22.275 DEBUG 105631 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:15:22.275  INFO 105631 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:15:23.246  INFO 105631 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:15:23.321  INFO 105631 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69ms. Found 6 JPA repository interfaces.
2020-05-31 18:15:23.624  INFO 105631 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@554f0dfb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:15:23.628  INFO 105631 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:15:23.824  INFO 105631 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:15:23.833  INFO 105631 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:15:23.834  INFO 105631 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:15:23.892  INFO 105631 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:15:23.893  INFO 105631 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1568 ms
2020-05-31 18:15:24.069  INFO 105631 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:15:24.173  INFO 105631 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:15:24.178  INFO 105631 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:15:24.354  INFO 105631 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:15:24.395  INFO 105631 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:15:24.525  INFO 105631 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:15:24.590  INFO 105631 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:15:25.104  INFO 105631 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:15:25.109  INFO 105631 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:15:25.183  WARN 105631 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:15:25.766  INFO 105631 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 18:15:25.864  INFO 105631 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 18:15:25.864  INFO 105631 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 18:15:25.864  INFO 105631 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 18:15:25.865  INFO 105631 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 18:15:25.865  INFO 105631 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/cities/**'], []
2020-05-31 18:15:25.892  INFO 105631 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6be422da, org.springframework.security.web.context.SecurityContextPersistenceFilter@1791e231, org.springframework.security.web.header.HeaderWriterFilter@2aa811f9, org.springframework.security.web.authentication.logout.LogoutFilter@27746c5e, com.miro.flightadvisor.security.services.JwtTokenFilter@225ddf5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e360c3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13f36d75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51468039, org.springframework.security.web.session.SessionManagementFilter@51fb5fe6, org.springframework.security.web.access.ExceptionTranslationFilter@48da64f2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51f4439e]
2020-05-31 18:15:25.912  INFO 105631 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 18:15:25.927  INFO 105631 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 18:15:25.928  INFO 105631 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 18:15:26.400  INFO 105631 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 18:15:26.401  INFO 105631 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 18:15:26.411  INFO 105631 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 18:15:26.443  INFO 105631 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 18:15:26.574  INFO 105631 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 18:15:26.575  INFO 105631 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 18:15:26.594  INFO 105631 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 18:15:26.803  INFO 105631 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 18:15:26.814  INFO 105631 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.87 seconds (JVM running for 5.439)
2020-05-31 18:15:27.272  INFO 105631 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 18:15:27.273  INFO 105631 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 18:15:27.283  INFO 105631 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-05-31 18:15:49.094  INFO 105631 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 18:15:49.097  INFO 105631 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:15:49.097  INFO 105631 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 18:15:49.103  INFO 105631 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 18:15:49.106  INFO 105631 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 18:15:52.406  INFO 106150 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 106150 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 18:15:52.408 DEBUG 106150 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 18:15:52.409  INFO 106150 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 18:15:53.411  INFO 106150 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 18:15:53.474  INFO 106150 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57ms. Found 6 JPA repository interfaces.
2020-05-31 18:15:53.727  INFO 106150 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@767191b1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:15:53.729  INFO 106150 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 18:15:53.898  INFO 106150 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 18:15:53.905  INFO 106150 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 18:15:53.905  INFO 106150 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 18:15:53.961  INFO 106150 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 18:15:53.962  INFO 106150 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1513 ms
2020-05-31 18:15:54.127  INFO 106150 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 18:15:54.201  INFO 106150 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 18:15:54.205  INFO 106150 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 18:15:54.337  INFO 106150 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 18:15:54.365  INFO 106150 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 18:15:54.434  INFO 106150 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 18:15:54.496  INFO 106150 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 18:15:55.004  INFO 106150 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 18:15:55.008  INFO 106150 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 18:15:55.075  WARN 106150 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 18:15:55.640  INFO 106150 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 18:15:55.758  INFO 106150 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 18:15:55.758  INFO 106150 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 18:15:55.758  INFO 106150 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 18:15:55.758  INFO 106150 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 18:15:55.758  INFO 106150 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/cities/**'], []
2020-05-31 18:15:55.784  INFO 106150 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b36d248, org.springframework.security.web.context.SecurityContextPersistenceFilter@227b9277, org.springframework.security.web.header.HeaderWriterFilter@70f91ae3, org.springframework.security.web.authentication.logout.LogoutFilter@56da8847, com.miro.flightadvisor.security.services.JwtTokenFilter@7e94de5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b56d8a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44a44a04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@499c4d61, org.springframework.security.web.session.SessionManagementFilter@24ac6fef, org.springframework.security.web.access.ExceptionTranslationFilter@2133b712, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d654b5f]
2020-05-31 18:15:55.801  INFO 106150 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 18:15:55.816  INFO 106150 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 18:15:55.817  INFO 106150 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 18:15:56.257  INFO 106150 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 18:15:56.258  INFO 106150 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 18:15:56.268  INFO 106150 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 18:15:56.301  INFO 106150 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 18:15:56.454  INFO 106150 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 18:15:56.455  INFO 106150 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 18:15:56.479  INFO 106150 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 18:15:56.700  INFO 106150 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 18:15:56.710  INFO 106150 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.57 seconds (JVM running for 5.043)
2020-05-31 18:15:57.116  INFO 106150 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 18:15:57.116  INFO 106150 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 18:15:57.125  INFO 106150 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-05-31 20:36:32.837  INFO 106150 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:36:32.839  INFO 106150 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:36:32.839  INFO 106150 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:36:32.845  INFO 106150 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:36:32.848  INFO 106150 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:36:36.208  INFO 107300 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 107300 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:36:36.211 DEBUG 107300 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:36:36.212  INFO 107300 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 20:36:37.214  INFO 107300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:36:37.284  INFO 107300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63ms. Found 6 JPA repository interfaces.
2020-05-31 20:36:37.557  INFO 107300 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@62e93c3a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:36:37.562  INFO 107300 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:36:37.735  INFO 107300 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 20:36:37.742  INFO 107300 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:36:37.742  INFO 107300 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:36:37.800  INFO 107300 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:36:37.800  INFO 107300 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1545 ms
2020-05-31 20:36:37.974  INFO 107300 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:36:38.056  INFO 107300 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:36:38.061  INFO 107300 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:36:38.208  INFO 107300 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:36:38.239  INFO 107300 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:36:38.323  INFO 107300 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:36:38.392  INFO 107300 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:36:38.966  INFO 107300 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:36:38.971  INFO 107300 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:36:39.049  WARN 107300 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:36:39.713  INFO 107300 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:36:39.832  INFO 107300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:36:39.832  INFO 107300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:36:39.833  INFO 107300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:36:39.833  INFO 107300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:36:39.869  INFO 107300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@737ff5c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ed7978c, org.springframework.security.web.header.HeaderWriterFilter@27053257, org.springframework.security.web.authentication.logout.LogoutFilter@41b66d1, com.miro.flightadvisor.security.services.JwtTokenFilter@7e9a836, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@146833a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bb9f7d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@124ff64d, org.springframework.security.web.session.SessionManagementFilter@33f2eb04, org.springframework.security.web.access.ExceptionTranslationFilter@c0004b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5018b56b]
2020-05-31 20:36:39.890  INFO 107300 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:36:39.906  INFO 107300 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:36:39.907  INFO 107300 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:36:40.431  INFO 107300 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 20:36:40.432  INFO 107300 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:36:40.442  INFO 107300 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:36:40.473  INFO 107300 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:36:40.616  INFO 107300 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:36:40.618  INFO 107300 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:36:40.643  INFO 107300 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:36:40.877  INFO 107300 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:36:40.886  INFO 107300 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.954 seconds (JVM running for 5.428)
2020-05-31 20:36:41.547  INFO 107300 --- [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:36:41.548  INFO 107300 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:36:41.557  INFO 107300 --- [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-05-31 20:36:42.712  INFO 107300 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:36:42.715  INFO 107300 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:36:42.716  INFO 107300 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:36:42.721  INFO 107300 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:36:42.724  INFO 107300 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:36:46.479  INFO 107795 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 107795 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:36:46.481 DEBUG 107795 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:36:46.482  INFO 107795 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 20:36:47.409  INFO 107795 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:36:47.461  INFO 107795 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 JPA repository interfaces.
2020-05-31 20:36:47.769  INFO 107795 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1f11f64e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:36:47.773  INFO 107795 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:36:47.977  INFO 107795 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 20:36:47.984  INFO 107795 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:36:47.984  INFO 107795 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:36:48.069  INFO 107795 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:36:48.069  INFO 107795 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1541 ms
2020-05-31 20:36:48.265  INFO 107795 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:36:48.350  INFO 107795 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:36:48.355  INFO 107795 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:36:48.512  INFO 107795 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:36:48.542  INFO 107795 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:36:48.623  INFO 107795 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:36:48.693  INFO 107795 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:36:49.242  INFO 107795 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:36:49.247  INFO 107795 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:36:49.325  WARN 107795 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:36:49.915  INFO 107795 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:36:50.014  INFO 107795 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:36:50.014  INFO 107795 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:36:50.014  INFO 107795 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:36:50.014  INFO 107795 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:36:50.042  INFO 107795 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@388e4c25, org.springframework.security.web.context.SecurityContextPersistenceFilter@627d35ff, org.springframework.security.web.header.HeaderWriterFilter@54e94de9, org.springframework.security.web.authentication.logout.LogoutFilter@39ead1b7, com.miro.flightadvisor.security.services.JwtTokenFilter@12532e37, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3245efdb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@312819ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b67a9, org.springframework.security.web.session.SessionManagementFilter@27dc81be, org.springframework.security.web.access.ExceptionTranslationFilter@1ba7db2a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4552f905]
2020-05-31 20:36:50.060  INFO 107795 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:36:50.075  INFO 107795 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:36:50.076  INFO 107795 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:36:50.549  INFO 107795 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 20:36:50.550  INFO 107795 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:36:50.559  INFO 107795 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:36:50.589  INFO 107795 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:36:50.720  INFO 107795 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:36:50.721  INFO 107795 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:36:50.748  INFO 107795 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:36:50.963  INFO 107795 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:36:50.973  INFO 107795 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.749 seconds (JVM running for 5.33)
2020-05-31 20:36:51.420  INFO 107795 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:36:51.420  INFO 107795 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:36:51.428  INFO 107795 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-05-31 20:37:12.375  INFO 107795 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:37:12.433  INFO 107795 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:37:22.205  INFO 107795 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:37:22.244  INFO 107795 --- [http-nio-8080-exec-3] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 20:37:29.277  INFO 107795 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:37:29.283  INFO 107795 --- [http-nio-8080-exec-4] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 20:37:54.741  INFO 107795 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:38:09.595  INFO 107795 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:38:09.598  INFO 107795 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:38:09.598  INFO 107795 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:38:09.604  INFO 107795 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:38:09.607  INFO 107795 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:38:11.938  INFO 108339 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 108339 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:38:11.941 DEBUG 108339 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:38:11.942  INFO 108339 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 20:38:13.001  INFO 108339 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:38:13.073  INFO 108339 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 6 JPA repository interfaces.
2020-05-31 20:38:13.321  INFO 108339 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3414a8c3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:38:13.325  INFO 108339 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:38:13.486  INFO 108339 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 20:38:13.491  INFO 108339 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:38:13.492  INFO 108339 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:38:13.546  INFO 108339 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:38:13.546  INFO 108339 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1557 ms
2020-05-31 20:38:13.652  INFO 108339 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:38:13.804  INFO 108339 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:38:13.808  INFO 108339 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:38:13.939  INFO 108339 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:38:13.964  INFO 108339 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:38:14.029  INFO 108339 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:38:14.087  INFO 108339 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:38:14.596  INFO 108339 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:38:14.602  INFO 108339 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:38:14.673  WARN 108339 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:38:15.220  INFO 108339 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:38:15.304  INFO 108339 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:38:15.305  INFO 108339 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:38:15.305  INFO 108339 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:38:15.305  INFO 108339 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:38:15.328  INFO 108339 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13714753, org.springframework.security.web.context.SecurityContextPersistenceFilter@11c999da, org.springframework.security.web.header.HeaderWriterFilter@21e702b8, org.springframework.security.web.authentication.logout.LogoutFilter@785d6a98, com.miro.flightadvisor.security.services.JwtTokenFilter@3c3cd7a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ab86b2a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c79ca55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@96be1ae, org.springframework.security.web.session.SessionManagementFilter@1e000a17, org.springframework.security.web.access.ExceptionTranslationFilter@22002459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54bc3bcf]
2020-05-31 20:38:15.344  INFO 108339 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:38:15.357  INFO 108339 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:38:15.357  INFO 108339 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:38:15.800  INFO 108339 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 20:38:15.801  INFO 108339 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:38:15.810  INFO 108339 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:38:15.841  INFO 108339 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:38:15.971  INFO 108339 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:38:15.972  INFO 108339 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:38:15.991  INFO 108339 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:38:16.184  INFO 108339 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:38:16.194  INFO 108339 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.525 seconds (JVM running for 5.105)
2020-05-31 20:38:16.512  INFO 108339 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:38:16.513  INFO 108339 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:38:16.523  INFO 108339 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-05-31 20:40:33.126  INFO 109090 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 109090 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:40:33.127 DEBUG 109090 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:40:33.127  INFO 109090 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 20:40:34.267  INFO 109090 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:40:34.440  INFO 109090 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 165ms. Found 6 JPA repository interfaces.
2020-05-31 20:40:34.952  INFO 109090 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:40:34.963  INFO 109090 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:40:35.295  INFO 109090 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 20:40:35.306  INFO 109090 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:40:35.306  INFO 109090 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:40:35.399  INFO 109090 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:40:35.399  INFO 109090 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2248 ms
2020-05-31 20:40:35.650  INFO 109090 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:40:35.855  INFO 109090 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:40:35.863  INFO 109090 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:40:36.178  INFO 109090 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:40:36.230  INFO 109090 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:40:36.371  INFO 109090 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:40:36.473  INFO 109090 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:40:37.429  INFO 109090 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:40:37.436  INFO 109090 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:40:37.507  WARN 109090 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:40:38.415  INFO 109090 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:40:38.622  INFO 109090 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:40:38.622  INFO 109090 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:40:38.622  INFO 109090 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:40:38.622  INFO 109090 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:40:38.697  INFO 109090 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19355a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@698e1bf5, org.springframework.security.web.header.HeaderWriterFilter@5b3ee43e, org.springframework.security.web.authentication.logout.LogoutFilter@44e3f3e5, com.miro.flightadvisor.security.services.JwtTokenFilter@1ff23bd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee1b017, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11a7840f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62f305bc, org.springframework.security.web.session.SessionManagementFilter@460aa24e, org.springframework.security.web.access.ExceptionTranslationFilter@54e680fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fdd3382]
2020-05-31 20:40:38.756  INFO 109090 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:40:38.776  INFO 109090 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:40:38.785  INFO 109090 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:40:39.438  INFO 109090 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 45247 (http) with context path ''
2020-05-31 20:40:39.440  INFO 109090 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:40:39.461  INFO 109090 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:40:39.505  INFO 109090 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:40:39.702  INFO 109090 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:40:39.704  INFO 109090 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:40:39.732  INFO 109090 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:40:40.062  INFO 109090 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:40:40.074  INFO 109090 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.207 seconds (JVM running for 8.314)
2020-05-31 20:40:40.229  INFO 109090 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:40:40.234  INFO 109090 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:40:40.235  INFO 109090 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:40:40.243  INFO 109090 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:40:40.247  INFO 109090 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:42:37.044  INFO 109950 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 109950 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:42:37.045 DEBUG 109950 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:42:37.046  INFO 109950 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 20:42:38.142  INFO 109950 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:42:38.303  INFO 109950 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 6 JPA repository interfaces.
2020-05-31 20:42:38.856  INFO 109950 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:42:38.870  INFO 109950 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:42:39.214  INFO 109950 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 20:42:39.225  INFO 109950 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:42:39.226  INFO 109950 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:42:39.317  INFO 109950 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:42:39.317  INFO 109950 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2250 ms
2020-05-31 20:42:39.547  INFO 109950 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:42:39.741  INFO 109950 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:42:39.749  INFO 109950 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:42:40.071  INFO 109950 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:42:40.128  INFO 109950 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:42:40.265  INFO 109950 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:42:40.394  INFO 109950 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:42:41.433  INFO 109950 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:42:41.440  INFO 109950 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:42:41.512  WARN 109950 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:42:42.472  INFO 109950 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:42:42.663  INFO 109950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:42:42.663  INFO 109950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:42:42.663  INFO 109950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:42:42.663  INFO 109950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:42:42.744  INFO 109950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19355a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@698e1bf5, org.springframework.security.web.header.HeaderWriterFilter@5b3ee43e, org.springframework.security.web.authentication.logout.LogoutFilter@44e3f3e5, com.miro.flightadvisor.security.services.JwtTokenFilter@1ff23bd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee1b017, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11a7840f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62f305bc, org.springframework.security.web.session.SessionManagementFilter@460aa24e, org.springframework.security.web.access.ExceptionTranslationFilter@54e680fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fdd3382]
2020-05-31 20:42:42.798  INFO 109950 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:42:42.816  INFO 109950 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:42:42.822  INFO 109950 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:42:43.471  INFO 109950 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 41649 (http) with context path ''
2020-05-31 20:42:43.472  INFO 109950 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:42:43.489  INFO 109950 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:42:43.530  INFO 109950 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:42:43.778  INFO 109950 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:42:43.780  INFO 109950 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:42:43.819  INFO 109950 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:42:44.150  INFO 109950 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:42:44.159  INFO 109950 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.377 seconds (JVM running for 8.418)
2020-05-31 20:42:44.335  INFO 109950 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:42:44.336  INFO 109950 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:42:44.347  INFO 109950 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2020-05-31 20:42:44.360  INFO 109950 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:42:44.374  INFO 109950 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:42:44.524  INFO 109950 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:42:44.527  INFO 109950 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:42:44.527  INFO 109950 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:42:44.533  INFO 109950 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:42:44.537  INFO 109950 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:44:07.858  INFO 110454 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 110454 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:44:07.859 DEBUG 110454 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:44:07.859  INFO 110454 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 20:44:08.921  INFO 110454 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:44:09.088  INFO 110454 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 6 JPA repository interfaces.
2020-05-31 20:44:09.581  INFO 110454 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@991cbde' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:44:09.591  INFO 110454 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:44:09.922  INFO 110454 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 20:44:09.933  INFO 110454 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:44:09.934  INFO 110454 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:44:10.012  INFO 110454 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:44:10.013  INFO 110454 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2130 ms
2020-05-31 20:44:10.205  INFO 110454 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:44:10.406  INFO 110454 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:44:10.415  INFO 110454 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:44:10.719  INFO 110454 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:44:10.767  INFO 110454 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:44:10.895  INFO 110454 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:44:10.999  INFO 110454 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:44:11.988  INFO 110454 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:44:11.994  INFO 110454 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:44:12.074  WARN 110454 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:44:13.026  INFO 110454 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:44:13.215  INFO 110454 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:44:13.216  INFO 110454 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:44:13.216  INFO 110454 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:44:13.216  INFO 110454 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:44:13.302  INFO 110454 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bb0fa38, org.springframework.security.web.context.SecurityContextPersistenceFilter@58ca6ba3, org.springframework.security.web.header.HeaderWriterFilter@6edb2c7b, org.springframework.security.web.authentication.logout.LogoutFilter@1c0fe6c5, com.miro.flightadvisor.security.services.JwtTokenFilter@58e7f930, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7676b2b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5aa334c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@406808eb, org.springframework.security.web.session.SessionManagementFilter@5b3ee43e, org.springframework.security.web.access.ExceptionTranslationFilter@6afced93, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@593354fa]
2020-05-31 20:44:13.354  INFO 110454 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:44:13.373  INFO 110454 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:44:13.381  INFO 110454 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:44:14.102  INFO 110454 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 46781 (http) with context path ''
2020-05-31 20:44:14.103  INFO 110454 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:44:14.123  INFO 110454 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:44:14.169  INFO 110454 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:44:14.386  INFO 110454 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:44:14.389  INFO 110454 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:44:14.426  INFO 110454 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:44:14.744  INFO 110454 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:44:14.757  INFO 110454 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.121 seconds (JVM running for 8.151)
2020-05-31 20:44:14.985  INFO 110454 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:44:14.985  INFO 110454 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:44:15.000  INFO 110454 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-05-31 20:44:15.013  INFO 110454 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:44:15.027  INFO 110454 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:44:15.182  INFO 110454 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:44:15.187  INFO 110454 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:44:15.188  INFO 110454 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:44:15.198  INFO 110454 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:44:15.206  INFO 110454 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:50:43.587  INFO 111678 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 111678 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:50:43.587 DEBUG 111678 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:50:43.587  INFO 111678 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 20:50:44.756  INFO 111678 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:50:44.923  INFO 111678 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 6 JPA repository interfaces.
2020-05-31 20:50:45.476  INFO 111678 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:50:45.491  INFO 111678 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:50:45.839  INFO 111678 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 20:50:45.851  INFO 111678 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:50:45.851  INFO 111678 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:50:45.935  INFO 111678 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:50:45.935  INFO 111678 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2331 ms
2020-05-31 20:50:46.139  INFO 111678 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:50:46.322  INFO 111678 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:50:46.329  INFO 111678 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:50:46.638  INFO 111678 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:50:46.698  INFO 111678 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:50:46.838  INFO 111678 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:50:46.974  INFO 111678 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:50:48.057  INFO 111678 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:50:48.065  INFO 111678 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:50:48.157  WARN 111678 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:50:49.038  INFO 111678 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:50:49.231  INFO 111678 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:50:49.232  INFO 111678 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:50:49.232  INFO 111678 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:50:49.232  INFO 111678 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:50:49.303  INFO 111678 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19355a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@698e1bf5, org.springframework.security.web.header.HeaderWriterFilter@5b3ee43e, org.springframework.security.web.authentication.logout.LogoutFilter@44e3f3e5, com.miro.flightadvisor.security.services.JwtTokenFilter@1ff23bd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee1b017, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11a7840f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62f305bc, org.springframework.security.web.session.SessionManagementFilter@460aa24e, org.springframework.security.web.access.ExceptionTranslationFilter@54e680fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fdd3382]
2020-05-31 20:50:49.350  INFO 111678 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:50:49.366  INFO 111678 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:50:49.372  INFO 111678 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:50:49.972  INFO 111678 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 41237 (http) with context path ''
2020-05-31 20:50:49.973  INFO 111678 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:50:49.993  INFO 111678 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:50:50.039  INFO 111678 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:50:50.256  INFO 111678 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:50:50.259  INFO 111678 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:50:50.299  INFO 111678 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:50:50.682  INFO 111678 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:50:50.693  INFO 111678 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.359 seconds (JVM running for 8.527)
2020-05-31 20:50:50.960  INFO 111678 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:50:50.960  INFO 111678 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:50:50.975  INFO 111678 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-05-31 20:50:50.991  INFO 111678 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:50:51.066  INFO 111678 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 20:50:51.515  INFO 111678 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:50:51.520  INFO 111678 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:50:51.520  INFO 111678 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:50:51.522  WARN 111678 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 20:50:51.522 ERROR 111678 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 20:50:51.523  WARN 111678 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 20:50:51.523 ERROR 111678 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 20:50:51.524  WARN 111678 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 20:50:51.525  INFO 111678 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:50:51.528  INFO 111678 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:51:14.680  INFO 112119 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 112119 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:51:14.680 DEBUG 112119 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:51:14.681  INFO 112119 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 20:51:15.893  INFO 112119 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:51:16.082  INFO 112119 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 181ms. Found 6 JPA repository interfaces.
2020-05-31 20:51:16.683  INFO 112119 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:51:16.693  INFO 112119 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:51:17.038  INFO 112119 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 20:51:17.050  INFO 112119 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:51:17.051  INFO 112119 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:51:17.148  INFO 112119 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:51:17.148  INFO 112119 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2445 ms
2020-05-31 20:51:17.388  INFO 112119 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:51:17.600  INFO 112119 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:51:17.608  INFO 112119 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:51:17.922  INFO 112119 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:51:17.978  INFO 112119 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:51:18.117  INFO 112119 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:51:18.270  INFO 112119 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:51:19.290  INFO 112119 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:51:19.296  INFO 112119 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:51:19.366  WARN 112119 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:51:20.258  INFO 112119 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:51:20.453  INFO 112119 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:51:20.454  INFO 112119 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:51:20.454  INFO 112119 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:51:20.454  INFO 112119 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:51:20.531  INFO 112119 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62f305bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ee1b017, org.springframework.security.web.header.HeaderWriterFilter@18a38bba, org.springframework.security.web.authentication.logout.LogoutFilter@69ed96e1, com.miro.flightadvisor.security.services.JwtTokenFilter@729c8def, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66d69cd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5c757c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41c88e00, org.springframework.security.web.session.SessionManagementFilter@17f8cad6, org.springframework.security.web.access.ExceptionTranslationFilter@167bb934, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32245b66]
2020-05-31 20:51:20.583  INFO 112119 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:51:20.602  INFO 112119 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:51:20.608  INFO 112119 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:51:21.291  INFO 112119 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 35851 (http) with context path ''
2020-05-31 20:51:21.292  INFO 112119 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:51:21.308  INFO 112119 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:51:21.349  INFO 112119 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:51:21.547  INFO 112119 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:51:21.549  INFO 112119 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:51:21.583  INFO 112119 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:51:21.938  INFO 112119 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:51:21.951  INFO 112119 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.526 seconds (JVM running for 8.66)
2020-05-31 20:51:22.219  INFO 112119 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:51:22.219  INFO 112119 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:51:22.234  INFO 112119 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-05-31 20:51:22.248  INFO 112119 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:51:22.325  INFO 112119 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 20:51:22.781  INFO 112119 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:51:22.787  INFO 112119 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:51:22.787  INFO 112119 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:51:22.789  WARN 112119 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 20:51:22.789 ERROR 112119 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 20:51:22.790  WARN 112119 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 20:51:22.790 ERROR 112119 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 20:51:22.790  WARN 112119 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 20:51:22.791  INFO 112119 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:51:22.794  INFO 112119 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 20:55:21.200  INFO 112797 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 112797 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 20:55:21.201 DEBUG 112797 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 20:55:21.202  INFO 112797 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 20:55:22.308  INFO 112797 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 20:55:22.475  INFO 112797 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 6 JPA repository interfaces.
2020-05-31 20:55:23.044  INFO 112797 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@55f4887d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:55:23.057  INFO 112797 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 20:55:23.439  INFO 112797 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 20:55:23.450  INFO 112797 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 20:55:23.450  INFO 112797 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 20:55:23.527  INFO 112797 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 20:55:23.528  INFO 112797 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2303 ms
2020-05-31 20:55:23.744  INFO 112797 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 20:55:23.949  INFO 112797 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 20:55:23.963  INFO 112797 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 20:55:24.306  INFO 112797 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 20:55:24.361  INFO 112797 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 20:55:24.488  INFO 112797 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 20:55:24.618  INFO 112797 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 20:55:25.659  INFO 112797 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 20:55:25.665  INFO 112797 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:55:25.736  WARN 112797 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 20:55:26.642  INFO 112797 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 20:55:26.842  INFO 112797 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 20:55:26.843  INFO 112797 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 20:55:26.843  INFO 112797 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 20:55:26.843  INFO 112797 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 20:55:26.915  INFO 112797 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9dbb1d9, org.springframework.security.web.context.SecurityContextPersistenceFilter@18a38bba, org.springframework.security.web.header.HeaderWriterFilter@63c6c5e5, org.springframework.security.web.authentication.logout.LogoutFilter@357cdb00, com.miro.flightadvisor.security.services.JwtTokenFilter@1bb0fa38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74797b90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@460aa24e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58e7f930, org.springframework.security.web.session.SessionManagementFilter@3b3f62d7, org.springframework.security.web.access.ExceptionTranslationFilter@46a0ef6f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@522fb69]
2020-05-31 20:55:26.966  INFO 112797 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 20:55:26.982  INFO 112797 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 20:55:26.989  INFO 112797 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 20:55:27.678  INFO 112797 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 42357 (http) with context path ''
2020-05-31 20:55:27.679  INFO 112797 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 20:55:27.696  INFO 112797 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 20:55:27.737  INFO 112797 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 20:55:27.950  INFO 112797 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 20:55:27.953  INFO 112797 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 20:55:27.996  INFO 112797 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 20:55:28.359  INFO 112797 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 20:55:28.371  INFO 112797 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.454 seconds (JVM running for 8.521)
2020-05-31 20:55:28.618  INFO 112797 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 20:55:28.618  INFO 112797 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 20:55:28.633  INFO 112797 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 20:55:28.648  INFO 112797 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:55:28.729  INFO 112797 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 20:55:29.113  INFO 112797 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 20:55:29.121  INFO 112797 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 20:55:29.765  INFO 112797 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 20:55:29.768  INFO 112797 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 20:55:29.769  INFO 112797 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 20:55:29.770  WARN 112797 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 20:55:29.770 ERROR 112797 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 20:55:29.771  WARN 112797 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 20:55:29.771 ERROR 112797 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 20:55:29.771  WARN 112797 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 20:55:29.772  INFO 112797 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 20:55:29.775  INFO 112797 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:07:33.514  INFO 114180 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 114180 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:07:33.515 DEBUG 114180 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:07:33.515  INFO 114180 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:07:34.615  INFO 114180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:07:34.800  INFO 114180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 177ms. Found 6 JPA repository interfaces.
2020-05-31 21:07:35.408  INFO 114180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:07:35.419  INFO 114180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:07:35.751  INFO 114180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:07:35.762  INFO 114180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:07:35.763  INFO 114180 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:07:35.835  INFO 114180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:07:35.836  INFO 114180 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2299 ms
2020-05-31 21:07:36.053  INFO 114180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:07:36.272  INFO 114180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:07:36.280  INFO 114180 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:07:36.584  INFO 114180 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:07:36.632  INFO 114180 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:07:36.755  INFO 114180 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:07:36.863  INFO 114180 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:07:37.813  INFO 114180 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:07:37.819  INFO 114180 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:07:37.892  WARN 114180 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:07:38.753  INFO 114180 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:07:38.926  INFO 114180 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:07:38.926  INFO 114180 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:07:38.926  INFO 114180 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:07:38.926  INFO 114180 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:07:38.987  INFO 114180 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62f305bc, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ee1b017, org.springframework.security.web.header.HeaderWriterFilter@18a38bba, org.springframework.security.web.authentication.logout.LogoutFilter@69ed96e1, com.miro.flightadvisor.security.services.JwtTokenFilter@729c8def, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66d69cd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f5c757c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41c88e00, org.springframework.security.web.session.SessionManagementFilter@17f8cad6, org.springframework.security.web.access.ExceptionTranslationFilter@167bb934, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32245b66]
2020-05-31 21:07:39.031  INFO 114180 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:07:39.046  INFO 114180 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:07:39.051  INFO 114180 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:07:39.683  INFO 114180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 46719 (http) with context path ''
2020-05-31 21:07:39.685  INFO 114180 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:07:39.704  INFO 114180 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:07:39.748  INFO 114180 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:07:39.949  INFO 114180 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:07:39.951  INFO 114180 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:07:39.984  INFO 114180 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:07:40.290  INFO 114180 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:07:40.301  INFO 114180 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.048 seconds (JVM running for 8.157)
2020-05-31 21:07:40.534  INFO 114180 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:07:40.535  INFO 114180 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:07:40.556  INFO 114180 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 21 ms
2020-05-31 21:07:40.574  INFO 114180 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:07:40.649  INFO 114180 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:07:41.039  INFO 114180 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:07:41.051  INFO 114180 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:07:41.692  INFO 114180 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:07:41.786  INFO 114180 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:07:41.789  INFO 114180 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:07:41.789  INFO 114180 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:07:41.790  WARN 114180 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:07:41.790 ERROR 114180 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:07:41.791  WARN 114180 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:07:41.791 ERROR 114180 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:07:41.791  WARN 114180 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:07:41.792  INFO 114180 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:07:41.795  INFO 114180 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:10:19.826  INFO 114855 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 114855 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:10:19.826 DEBUG 114855 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:10:19.827  INFO 114855 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:10:21.047  INFO 114855 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:10:21.213  INFO 114855 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158ms. Found 6 JPA repository interfaces.
2020-05-31 21:10:21.793  INFO 114855 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:10:21.804  INFO 114855 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:10:22.132  INFO 114855 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:10:22.144  INFO 114855 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:10:22.144  INFO 114855 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:10:22.232  INFO 114855 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:10:22.233  INFO 114855 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2379 ms
2020-05-31 21:10:22.426  INFO 114855 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:10:22.629  INFO 114855 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:10:22.638  INFO 114855 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:10:22.936  INFO 114855 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:10:22.989  INFO 114855 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:10:23.119  INFO 114855 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:10:23.232  INFO 114855 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:10:24.245  INFO 114855 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:10:24.251  INFO 114855 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:10:24.339  WARN 114855 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:10:25.200  INFO 114855 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:10:25.378  INFO 114855 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:10:25.378  INFO 114855 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:10:25.378  INFO 114855 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:10:25.378  INFO 114855 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:10:25.453  INFO 114855 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19355a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@698e1bf5, org.springframework.security.web.header.HeaderWriterFilter@5b3ee43e, org.springframework.security.web.authentication.logout.LogoutFilter@44e3f3e5, com.miro.flightadvisor.security.services.JwtTokenFilter@1ff23bd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee1b017, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11a7840f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62f305bc, org.springframework.security.web.session.SessionManagementFilter@460aa24e, org.springframework.security.web.access.ExceptionTranslationFilter@54e680fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fdd3382]
2020-05-31 21:10:25.510  INFO 114855 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:10:25.531  INFO 114855 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:10:25.538  INFO 114855 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:10:26.286  INFO 114855 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 35881 (http) with context path ''
2020-05-31 21:10:26.287  INFO 114855 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:10:26.310  INFO 114855 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:10:26.359  INFO 114855 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:10:26.557  INFO 114855 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:10:26.559  INFO 114855 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:10:26.590  INFO 114855 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:10:26.910  INFO 114855 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:10:26.921  INFO 114855 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.467 seconds (JVM running for 8.544)
2020-05-31 21:10:27.200  INFO 114855 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:10:27.200  INFO 114855 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:10:27.220  INFO 114855 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 20 ms
2020-05-31 21:10:27.240  INFO 114855 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:10:27.330  INFO 114855 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:10:27.730  INFO 114855 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:10:27.741  INFO 114855 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:10:28.367  INFO 114855 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:10:28.460  INFO 114855 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:10:28.464  INFO 114855 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:10:28.465  INFO 114855 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:10:28.467  WARN 114855 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:10:28.467 ERROR 114855 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:10:28.467  WARN 114855 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:10:28.468 ERROR 114855 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:10:28.468  WARN 114855 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:10:28.469  INFO 114855 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:10:28.471  INFO 114855 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:13:00.103  INFO 115404 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 115404 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:13:00.104 DEBUG 115404 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:13:00.105  INFO 115404 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:13:01.151  INFO 115404 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:13:01.288  INFO 115404 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130ms. Found 6 JPA repository interfaces.
2020-05-31 21:13:01.795  INFO 115404 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:13:01.805  INFO 115404 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:13:02.104  INFO 115404 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:13:02.117  INFO 115404 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:13:02.118  INFO 115404 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:13:02.208  INFO 115404 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:13:02.208  INFO 115404 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2085 ms
2020-05-31 21:13:02.420  INFO 115404 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:13:02.606  INFO 115404 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:13:02.617  INFO 115404 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:13:02.927  INFO 115404 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:13:02.979  INFO 115404 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:13:03.100  INFO 115404 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:13:03.216  INFO 115404 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:13:04.248  INFO 115404 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:13:04.254  INFO 115404 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:13:04.322  WARN 115404 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:13:05.137  INFO 115404 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:13:05.333  INFO 115404 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:13:05.333  INFO 115404 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:13:05.333  INFO 115404 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:13:05.333  INFO 115404 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:13:05.409  INFO 115404 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fea095b, org.springframework.security.web.context.SecurityContextPersistenceFilter@32e5fb4c, org.springframework.security.web.header.HeaderWriterFilter@7676b2b9, org.springframework.security.web.authentication.logout.LogoutFilter@5e5d40ec, com.miro.flightadvisor.security.services.JwtTokenFilter@354e2bff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d3e5a05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10553a61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@232b3b4c, org.springframework.security.web.session.SessionManagementFilter@2ee1b017, org.springframework.security.web.access.ExceptionTranslationFilter@53da2aec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62f305bc]
2020-05-31 21:13:05.458  INFO 115404 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:13:05.475  INFO 115404 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:13:05.481  INFO 115404 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:13:06.201  INFO 115404 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 37273 (http) with context path ''
2020-05-31 21:13:06.202  INFO 115404 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:13:06.220  INFO 115404 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:13:06.255  INFO 115404 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:13:06.423  INFO 115404 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:13:06.425  INFO 115404 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:13:06.454  INFO 115404 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:13:06.751  INFO 115404 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:13:06.762  INFO 115404 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 6.918 seconds (JVM running for 7.864)
2020-05-31 21:13:07.026  INFO 115404 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:13:07.026  INFO 115404 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:13:07.038  INFO 115404 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-05-31 21:13:07.051  INFO 115404 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:13:07.126  INFO 115404 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:13:07.591  INFO 115404 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:13:07.602  INFO 115404 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:13:08.271  INFO 115404 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:13:08.380  INFO 115404 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:13:08.386  INFO 115404 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:13:08.386  INFO 115404 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:13:08.388  WARN 115404 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:13:08.388 ERROR 115404 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:13:08.389  WARN 115404 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:13:08.389 ERROR 115404 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:13:08.389  WARN 115404 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:13:08.390  INFO 115404 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:13:08.392  INFO 115404 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:15:06.556  INFO 108339 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:15:06.559  INFO 108339 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:15:06.560  INFO 108339 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:15:06.566  INFO 108339 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:15:06.569  INFO 108339 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:23:36.074  INFO 118483 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 118483 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:23:36.075 DEBUG 118483 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:23:36.076  INFO 118483 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:23:37.340  INFO 118483 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:23:37.503  INFO 118483 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 156ms. Found 6 JPA repository interfaces.
2020-05-31 21:23:38.081  INFO 118483 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@642ee49c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:23:38.098  INFO 118483 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:23:38.447  INFO 118483 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:23:38.459  INFO 118483 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:23:38.459  INFO 118483 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:23:38.540  INFO 118483 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:23:38.540  INFO 118483 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2441 ms
2020-05-31 21:23:38.771  INFO 118483 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:23:38.999  INFO 118483 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:23:39.012  INFO 118483 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:23:39.368  INFO 118483 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:23:39.452  INFO 118483 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:23:39.637  INFO 118483 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:23:39.763  INFO 118483 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:23:40.779  INFO 118483 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:23:40.785  INFO 118483 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:23:40.879  WARN 118483 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:23:41.835  INFO 118483 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:23:42.020  INFO 118483 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:23:42.020  INFO 118483 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:23:42.020  INFO 118483 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:23:42.020  INFO 118483 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:23:42.092  INFO 118483 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@768e40af, org.springframework.security.web.context.SecurityContextPersistenceFilter@6839d03b, org.springframework.security.web.header.HeaderWriterFilter@7fd4b9ec, org.springframework.security.web.authentication.logout.LogoutFilter@593354fa, com.miro.flightadvisor.security.services.JwtTokenFilter@165824f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@703e5614, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69ed96e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4511146f, org.springframework.security.web.session.SessionManagementFilter@61607ff0, org.springframework.security.web.access.ExceptionTranslationFilter@11a7840f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4714f447]
2020-05-31 21:23:42.141  INFO 118483 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:23:42.157  INFO 118483 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:23:42.164  INFO 118483 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:23:42.852  INFO 118483 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 33475 (http) with context path ''
2020-05-31 21:23:42.854  INFO 118483 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:23:42.876  INFO 118483 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:23:42.929  INFO 118483 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:23:43.109  INFO 118483 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:23:43.111  INFO 118483 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:23:43.143  INFO 118483 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:23:43.462  INFO 118483 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:23:43.477  INFO 118483 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.69 seconds (JVM running for 9.005)
2020-05-31 21:23:43.517  INFO 118483 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: static com.miro.flightadvisor.security.beans.SignupBean com.miro.flightadvisor.controllers.CityControllerTest.signupBean
2020-05-31 21:23:43.722  INFO 118483 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:23:43.722  INFO 118483 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:23:43.738  INFO 118483 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2020-05-31 21:23:43.754  INFO 118483 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:23:43.832  INFO 118483 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:23:44.239  INFO 118483 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:23:44.249  INFO 118483 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:23:44.833  INFO 118483 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:23:44.924  INFO 118483 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:23:44.929  INFO 118483 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:23:44.930  INFO 118483 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:23:44.931  WARN 118483 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:23:44.931 ERROR 118483 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:23:44.932  WARN 118483 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:23:44.932 ERROR 118483 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:23:44.933  WARN 118483 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:23:44.933  INFO 118483 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:23:44.936  INFO 118483 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:29:02.690  INFO 119039 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 119039 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:29:02.691 DEBUG 119039 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:29:02.692  INFO 119039 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:29:03.870  INFO 119039 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:29:04.033  INFO 119039 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 155ms. Found 6 JPA repository interfaces.
2020-05-31 21:29:04.571  INFO 119039 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5d3b58ca' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:29:04.582  INFO 119039 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:29:04.929  INFO 119039 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:29:04.940  INFO 119039 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:29:04.941  INFO 119039 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:29:05.018  INFO 119039 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:29:05.019  INFO 119039 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2310 ms
2020-05-31 21:29:05.218  INFO 119039 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:29:05.409  INFO 119039 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:29:05.417  INFO 119039 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:29:05.789  INFO 119039 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:29:05.839  INFO 119039 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:29:05.969  INFO 119039 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:29:06.088  INFO 119039 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:29:07.087  INFO 119039 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:29:07.093  INFO 119039 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:29:07.167  WARN 119039 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:29:08.139  INFO 119039 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:29:08.387  INFO 119039 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:29:08.387  INFO 119039 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:29:08.387  INFO 119039 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:29:08.387  INFO 119039 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:29:08.502  INFO 119039 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@165824f5, org.springframework.security.web.context.SecurityContextPersistenceFilter@a44ad33, org.springframework.security.web.header.HeaderWriterFilter@10553a61, org.springframework.security.web.authentication.logout.LogoutFilter@6dfebd2a, com.miro.flightadvisor.security.services.JwtTokenFilter@4511146f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@627d5f99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61648dd2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c16561a, org.springframework.security.web.session.SessionManagementFilter@58945295, org.springframework.security.web.access.ExceptionTranslationFilter@1d3e5a05, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c1df0e9]
2020-05-31 21:29:08.579  INFO 119039 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:29:08.598  INFO 119039 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:29:08.606  INFO 119039 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:29:09.235  INFO 119039 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 33971 (http) with context path ''
2020-05-31 21:29:09.237  INFO 119039 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:29:09.255  INFO 119039 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:29:09.289  INFO 119039 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:29:09.467  INFO 119039 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:29:09.469  INFO 119039 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:29:09.504  INFO 119039 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:29:09.815  INFO 119039 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:29:09.825  INFO 119039 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.402 seconds (JVM running for 8.586)
2020-05-31 21:29:09.855  INFO 119039 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: static com.miro.flightadvisor.security.beans.SignupBean com.miro.flightadvisor.controllers.CityControllerTest.signupBean
2020-05-31 21:29:10.060  INFO 119039 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:29:10.060  INFO 119039 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:29:10.077  INFO 119039 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2020-05-31 21:29:10.120  INFO 119039 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:29:10.217  INFO 119039 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:29:10.621  INFO 119039 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:29:10.629  INFO 119039 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:29:10.651  INFO 119039 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:29:10.683  INFO 119039 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:29:10.745  INFO 119039 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:29:10.748  INFO 119039 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:29:10.748  INFO 119039 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:29:10.749  WARN 119039 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:29:10.749 ERROR 119039 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:29:10.750  WARN 119039 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:29:10.750 ERROR 119039 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:29:10.750  WARN 119039 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:29:10.751  INFO 119039 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:29:10.754  INFO 119039 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:30:09.836  INFO 119498 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 119498 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:30:09.837 DEBUG 119498 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:30:09.837  INFO 119498 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:30:11.131  INFO 119498 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:30:11.316  INFO 119498 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 177ms. Found 6 JPA repository interfaces.
2020-05-31 21:30:11.812  INFO 119498 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5d3b58ca' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:30:11.823  INFO 119498 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:30:12.171  INFO 119498 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:30:12.183  INFO 119498 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:30:12.183  INFO 119498 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:30:12.258  INFO 119498 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:30:12.258  INFO 119498 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2402 ms
2020-05-31 21:30:12.443  INFO 119498 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:30:12.630  INFO 119498 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:30:12.637  INFO 119498 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:30:12.909  INFO 119498 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:30:12.957  INFO 119498 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:30:13.088  INFO 119498 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:30:13.208  INFO 119498 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:30:14.256  INFO 119498 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:30:14.262  INFO 119498 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:30:14.331  WARN 119498 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:30:15.240  INFO 119498 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:30:15.445  INFO 119498 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:30:15.445  INFO 119498 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:30:15.445  INFO 119498 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:30:15.445  INFO 119498 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:30:15.519  INFO 119498 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64e3bc2, org.springframework.security.web.context.SecurityContextPersistenceFilter@357cdb00, org.springframework.security.web.header.HeaderWriterFilter@32e5fb4c, org.springframework.security.web.authentication.logout.LogoutFilter@5667dd90, com.miro.flightadvisor.security.services.JwtTokenFilter@54ed249f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61607ff0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a44ad33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4714f447, org.springframework.security.web.session.SessionManagementFilter@1896299b, org.springframework.security.web.access.ExceptionTranslationFilter@7a85dc58, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@63062eea]
2020-05-31 21:30:15.566  INFO 119498 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:30:15.581  INFO 119498 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:30:15.587  INFO 119498 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:30:16.257  INFO 119498 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 36199 (http) with context path ''
2020-05-31 21:30:16.259  INFO 119498 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:30:16.283  INFO 119498 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:30:16.328  INFO 119498 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:30:16.548  INFO 119498 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:30:16.551  INFO 119498 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:30:16.597  INFO 119498 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:30:16.916  INFO 119498 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:30:16.926  INFO 119498 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.356 seconds (JVM running for 8.578)
2020-05-31 21:30:16.957  INFO 119498 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: static com.miro.flightadvisor.security.beans.SignupBean com.miro.flightadvisor.controllers.CityControllerTest.signupBean
2020-05-31 21:30:17.142  INFO 119498 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:30:17.142  INFO 119498 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:30:17.155  INFO 119498 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-05-31 21:30:17.170  INFO 119498 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:30:17.245  INFO 119498 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:30:17.641  INFO 119498 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:30:17.651  INFO 119498 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:30:17.679  INFO 119498 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:30:17.719  INFO 119498 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:30:17.790  INFO 119498 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:30:17.793  INFO 119498 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:30:17.794  INFO 119498 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:30:17.795  WARN 119498 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:30:17.795 ERROR 119498 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:30:17.796  WARN 119498 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:30:17.796 ERROR 119498 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:30:17.797  WARN 119498 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:30:17.798  INFO 119498 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:30:17.801  INFO 119498 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:31:21.015  INFO 119945 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 119945 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:31:21.015 DEBUG 119945 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:31:21.016  INFO 119945 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:31:22.156  INFO 119945 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:31:22.322  INFO 119945 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158ms. Found 6 JPA repository interfaces.
2020-05-31 21:31:22.795  INFO 119945 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5d3b58ca' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:31:22.806  INFO 119945 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:31:23.132  INFO 119945 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:31:23.143  INFO 119945 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:31:23.144  INFO 119945 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:31:23.218  INFO 119945 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:31:23.218  INFO 119945 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2183 ms
2020-05-31 21:31:23.430  INFO 119945 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:31:23.611  INFO 119945 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:31:23.618  INFO 119945 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:31:23.893  INFO 119945 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:31:23.936  INFO 119945 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:31:24.046  INFO 119945 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:31:24.164  INFO 119945 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:31:25.255  INFO 119945 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:31:25.262  INFO 119945 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:31:25.336  WARN 119945 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:31:26.286  INFO 119945 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:31:26.489  INFO 119945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:31:26.490  INFO 119945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:31:26.490  INFO 119945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:31:26.490  INFO 119945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:31:26.562  INFO 119945 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4714f447, org.springframework.security.web.context.SecurityContextPersistenceFilter@61607ff0, org.springframework.security.web.header.HeaderWriterFilter@1d3e5a05, org.springframework.security.web.authentication.logout.LogoutFilter@76673ed, com.miro.flightadvisor.security.services.JwtTokenFilter@3c1df0e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b63365c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@627d5f99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b7a4c83, org.springframework.security.web.session.SessionManagementFilter@7b6854b5, org.springframework.security.web.access.ExceptionTranslationFilter@7f9e6167, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4407fea2]
2020-05-31 21:31:26.617  INFO 119945 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:31:26.633  INFO 119945 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:31:26.639  INFO 119945 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:31:27.356  INFO 119945 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 34095 (http) with context path ''
2020-05-31 21:31:27.357  INFO 119945 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:31:27.379  INFO 119945 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:31:27.426  INFO 119945 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:31:27.628  INFO 119945 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:31:27.630  INFO 119945 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:31:27.663  INFO 119945 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:31:27.988  INFO 119945 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:31:28.000  INFO 119945 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.262 seconds (JVM running for 8.409)
2020-05-31 21:31:28.035  INFO 119945 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: static com.miro.flightadvisor.security.beans.SignupBean com.miro.flightadvisor.controllers.CityControllerTest.signupBean
2020-05-31 21:31:28.236  INFO 119945 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:31:28.236  INFO 119945 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:31:28.249  INFO 119945 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-05-31 21:31:28.262  INFO 119945 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:31:28.332  INFO 119945 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:31:28.747  INFO 119945 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:31:28.757  INFO 119945 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:31:28.829  INFO 119945 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:31:28.834  INFO 119945 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:31:28.834  INFO 119945 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:31:28.835  WARN 119945 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:31:28.836 ERROR 119945 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:31:28.836  WARN 119945 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:31:28.836 ERROR 119945 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:31:28.837  WARN 119945 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:31:28.837  INFO 119945 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:31:28.841  INFO 119945 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:32:26.820  INFO 120359 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 120359 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:32:26.822 DEBUG 120359 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:32:26.823  INFO 120359 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 21:32:27.913  INFO 120359 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:32:27.968  INFO 120359 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50ms. Found 6 JPA repository interfaces.
2020-05-31 21:32:28.220  INFO 120359 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2e8a1ab4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:32:28.224  INFO 120359 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:32:28.409  INFO 120359 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 21:32:28.414  INFO 120359 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:32:28.415  INFO 120359 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:32:28.480  INFO 120359 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:32:28.480  INFO 120359 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1617 ms
2020-05-31 21:32:28.673  INFO 120359 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:32:28.748  INFO 120359 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:32:28.753  INFO 120359 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:32:28.888  INFO 120359 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:32:28.916  INFO 120359 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:32:28.988  INFO 120359 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:32:29.056  INFO 120359 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:32:29.606  INFO 120359 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:32:29.611  INFO 120359 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:32:29.689  WARN 120359 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:32:30.283  INFO 120359 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:32:30.395  INFO 120359 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:32:30.395  INFO 120359 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:32:30.395  INFO 120359 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:32:30.395  INFO 120359 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:32:30.421  INFO 120359 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7323c38c, org.springframework.security.web.context.SecurityContextPersistenceFilter@11582db6, org.springframework.security.web.header.HeaderWriterFilter@50b38342, org.springframework.security.web.authentication.logout.LogoutFilter@70f91ae3, com.miro.flightadvisor.security.services.JwtTokenFilter@2c02a007, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57a5b03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@388e4c25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63a72cc6, org.springframework.security.web.session.SessionManagementFilter@351e86b2, org.springframework.security.web.access.ExceptionTranslationFilter@30665461, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54737322]
2020-05-31 21:32:30.439  INFO 120359 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:32:30.453  INFO 120359 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:32:30.454  INFO 120359 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:32:30.893  INFO 120359 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 21:32:30.894  INFO 120359 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:32:30.903  INFO 120359 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:32:30.933  INFO 120359 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:32:31.079  INFO 120359 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:32:31.080  INFO 120359 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:32:31.104  INFO 120359 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:32:31.337  INFO 120359 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:32:31.349  INFO 120359 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.782 seconds (JVM running for 5.363)
2020-05-31 21:32:31.747  INFO 120359 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:32:31.747  INFO 120359 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:32:31.757  INFO 120359 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-05-31 21:32:42.558  INFO 120851 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 120851 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:32:42.559 DEBUG 120851 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:32:42.559  INFO 120851 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:32:43.721  INFO 120851 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:32:43.882  INFO 120851 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 151ms. Found 6 JPA repository interfaces.
2020-05-31 21:32:44.386  INFO 120851 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@69909c14' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:32:44.401  INFO 120851 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:32:44.792  INFO 120851 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:32:44.805  INFO 120851 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:32:44.805  INFO 120851 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:32:44.889  INFO 120851 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:32:44.889  INFO 120851 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2274 ms
2020-05-31 21:32:45.101  INFO 120851 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:32:45.298  INFO 120851 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:32:45.307  INFO 120851 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:32:45.654  INFO 120851 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:32:45.708  INFO 120851 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:32:45.840  INFO 120851 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:32:45.949  INFO 120851 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:32:46.943  INFO 120851 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:32:46.949  INFO 120851 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:32:47.029  WARN 120851 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:32:47.914  INFO 120851 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:32:48.102  INFO 120851 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:32:48.102  INFO 120851 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:32:48.102  INFO 120851 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:32:48.102  INFO 120851 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:32:48.172  INFO 120851 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4714f447, org.springframework.security.web.context.SecurityContextPersistenceFilter@61607ff0, org.springframework.security.web.header.HeaderWriterFilter@1d3e5a05, org.springframework.security.web.authentication.logout.LogoutFilter@76673ed, com.miro.flightadvisor.security.services.JwtTokenFilter@3c1df0e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b63365c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@627d5f99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b7a4c83, org.springframework.security.web.session.SessionManagementFilter@7b6854b5, org.springframework.security.web.access.ExceptionTranslationFilter@7f9e6167, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4407fea2]
2020-05-31 21:32:48.222  INFO 120851 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:32:48.239  INFO 120851 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:32:48.246  INFO 120851 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:32:48.879  INFO 120851 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 39289 (http) with context path ''
2020-05-31 21:32:48.881  INFO 120851 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:32:48.906  INFO 120851 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:32:48.949  INFO 120851 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:32:49.157  INFO 120851 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:32:49.159  INFO 120851 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:32:49.192  INFO 120851 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:32:49.501  INFO 120851 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:32:49.511  INFO 120851 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.173 seconds (JVM running for 8.279)
2020-05-31 21:32:49.540  INFO 120851 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: static com.miro.flightadvisor.security.beans.SignupBean com.miro.flightadvisor.controllers.CityControllerTest.signupBean
2020-05-31 21:32:49.725  INFO 120851 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:32:49.726  INFO 120851 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:32:49.740  INFO 120851 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:32:49.753  INFO 120851 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:32:49.825  INFO 120851 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:32:50.211  INFO 120851 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:32:50.220  INFO 120851 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:32:50.281  INFO 120851 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:32:50.284  INFO 120851 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:32:50.284  INFO 120851 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:32:50.286  WARN 120851 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:32:50.286 ERROR 120851 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:32:50.286  WARN 120851 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:32:50.286 ERROR 120851 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:32:50.287  WARN 120851 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:32:50.287  INFO 120851 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:32:50.290  INFO 120851 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:34:05.447  INFO 121307 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 121307 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:34:05.447 DEBUG 121307 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:34:05.448  INFO 121307 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:34:06.717  INFO 121307 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:34:06.898  INFO 121307 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 174ms. Found 6 JPA repository interfaces.
2020-05-31 21:34:07.447  INFO 121307 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a9c5b75' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:34:07.457  INFO 121307 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:34:07.823  INFO 121307 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:34:07.836  INFO 121307 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:34:07.837  INFO 121307 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:34:07.960  INFO 121307 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:34:07.962  INFO 121307 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2493 ms
2020-05-31 21:34:08.310  INFO 121307 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:34:08.508  INFO 121307 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:34:08.518  INFO 121307 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:34:08.832  INFO 121307 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:34:08.884  INFO 121307 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:34:09.007  INFO 121307 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:34:09.132  INFO 121307 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:34:10.341  INFO 121307 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:34:10.346  INFO 121307 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:34:10.421  WARN 121307 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:34:11.288  INFO 121307 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:34:11.482  INFO 121307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:34:11.482  INFO 121307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:34:11.482  INFO 121307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:34:11.482  INFO 121307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:34:11.565  INFO 121307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@261609a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f5c757c, org.springframework.security.web.header.HeaderWriterFilter@460aa24e, org.springframework.security.web.authentication.logout.LogoutFilter@3d1b43d8, com.miro.flightadvisor.security.services.JwtTokenFilter@39296cef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fd4b9ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42d7e8bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7dfca9e6, org.springframework.security.web.session.SessionManagementFilter@32e5fb4c, org.springframework.security.web.access.ExceptionTranslationFilter@74797b90, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fea095b]
2020-05-31 21:34:11.614  INFO 121307 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:34:11.630  INFO 121307 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:34:11.636  INFO 121307 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:34:12.495  INFO 121307 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 43373 (http) with context path ''
2020-05-31 21:34:12.497  INFO 121307 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:34:12.518  INFO 121307 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:34:12.555  INFO 121307 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:34:12.744  INFO 121307 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:34:12.746  INFO 121307 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:34:12.776  INFO 121307 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:34:13.031  INFO 121307 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:34:13.040  INFO 121307 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.858 seconds (JVM running for 8.877)
2020-05-31 21:34:13.310  INFO 121307 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:34:13.310  INFO 121307 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:34:13.330  INFO 121307 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2020-05-31 21:34:13.351  INFO 121307 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:34:13.438  INFO 121307 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:34:13.858  INFO 121307 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:34:13.868  INFO 121307 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:34:13.935  INFO 121307 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:34:13.940  INFO 121307 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:34:13.941  INFO 121307 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:34:13.943  WARN 121307 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:34:13.943 ERROR 121307 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:34:13.944  WARN 121307 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:34:13.944 ERROR 121307 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:34:13.944  WARN 121307 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:34:13.945  INFO 121307 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:34:13.948  INFO 121307 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:36:10.514  INFO 120359 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:10.545  INFO 120359 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:11.476  INFO 120359 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:11.626  INFO 120359 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:11.994  INFO 120359 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:12.001  INFO 120359 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:13.878  INFO 120359 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:13.992  INFO 120359 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:13.995  INFO 120359 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:13.995  INFO 120359 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:13.995  INFO 120359 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.060  INFO 120359 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.060  INFO 120359 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.082  INFO 120359 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.088  INFO 120359 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.095  INFO 120359 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.101  INFO 120359 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.102  INFO 120359 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.102  INFO 120359 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.101  INFO 120359 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.102  INFO 120359 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.146  INFO 120359 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.168  INFO 120359 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.168  INFO 120359 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.169  INFO 120359 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.170  INFO 120359 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.170  INFO 120359 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.170  INFO 120359 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.182  INFO 120359 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.183  INFO 120359 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.184  INFO 120359 --- [http-nio-8080-exec-8] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.189  INFO 120359 --- [http-nio-8080-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.198  INFO 120359 --- [http-nio-8080-exec-5] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.198  INFO 120359 --- [http-nio-8080-exec-9] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.198  INFO 120359 --- [http-nio-8080-exec-10] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.198  INFO 120359 --- [http-nio-8080-exec-4] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.198  INFO 120359 --- [http-nio-8080-exec-7] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.283  INFO 120359 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:14.284  INFO 120359 --- [http-nio-8080-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:19.461  INFO 120359 --- [http-nio-8080-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:36:19.529  INFO 120359 --- [http-nio-8080-exec-6] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:37:39.901  INFO 122585 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 122585 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:37:39.902 DEBUG 122585 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:37:39.902  INFO 122585 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:37:40.977  INFO 122585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:37:41.132  INFO 122585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148ms. Found 6 JPA repository interfaces.
2020-05-31 21:37:41.673  INFO 122585 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a9c5b75' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:37:41.688  INFO 122585 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:37:42.030  INFO 122585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:37:42.042  INFO 122585 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:37:42.042  INFO 122585 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:37:42.139  INFO 122585 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:37:42.139  INFO 122585 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2221 ms
2020-05-31 21:37:42.342  INFO 122585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:37:42.520  INFO 122585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:37:42.527  INFO 122585 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:37:42.853  INFO 122585 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:37:42.905  INFO 122585 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:37:43.032  INFO 122585 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:37:43.162  INFO 122585 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:37:44.157  INFO 122585 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:37:44.163  INFO 122585 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:37:44.235  WARN 122585 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:37:45.150  INFO 122585 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:37:45.349  INFO 122585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:37:45.349  INFO 122585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:37:45.349  INFO 122585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:37:45.349  INFO 122585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:37:45.436  INFO 122585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@261609a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f5c757c, org.springframework.security.web.header.HeaderWriterFilter@460aa24e, org.springframework.security.web.authentication.logout.LogoutFilter@3d1b43d8, com.miro.flightadvisor.security.services.JwtTokenFilter@39296cef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fd4b9ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42d7e8bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7dfca9e6, org.springframework.security.web.session.SessionManagementFilter@32e5fb4c, org.springframework.security.web.access.ExceptionTranslationFilter@74797b90, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fea095b]
2020-05-31 21:37:45.490  INFO 122585 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:37:45.508  INFO 122585 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:37:45.515  INFO 122585 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:37:46.220  INFO 122585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 46169 (http) with context path ''
2020-05-31 21:37:46.222  INFO 122585 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:37:46.247  INFO 122585 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:37:46.299  INFO 122585 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:37:46.502  INFO 122585 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:37:46.504  INFO 122585 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:37:46.539  INFO 122585 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:37:46.887  INFO 122585 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:37:46.900  INFO 122585 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.232 seconds (JVM running for 8.533)
2020-05-31 21:37:47.152  INFO 122585 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:37:47.152  INFO 122585 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:37:47.165  INFO 122585 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-05-31 21:37:47.178  INFO 122585 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:37:47.248  INFO 122585 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:37:47.634  INFO 122585 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:37:47.643  INFO 122585 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:37:47.668  INFO 122585 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:37:47.703  INFO 122585 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:37:47.772  INFO 122585 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:37:47.775  INFO 122585 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:37:47.775  INFO 122585 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:37:47.776  WARN 122585 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:37:47.777 ERROR 122585 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:37:47.777  WARN 122585 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:37:47.777 ERROR 122585 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:37:47.777  WARN 122585 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:37:47.778  INFO 122585 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:37:47.780  INFO 122585 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:38:20.371  INFO 123013 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 123013 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:38:20.372 DEBUG 123013 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:38:20.373  INFO 123013 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:38:21.527  INFO 123013 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:38:21.693  INFO 123013 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 159ms. Found 6 JPA repository interfaces.
2020-05-31 21:38:22.275  INFO 123013 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@dd4aec3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:38:22.290  INFO 123013 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:38:22.630  INFO 123013 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:38:22.641  INFO 123013 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:38:22.642  INFO 123013 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:38:22.732  INFO 123013 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:38:22.732  INFO 123013 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2338 ms
2020-05-31 21:38:22.943  INFO 123013 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:38:23.138  INFO 123013 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:38:23.146  INFO 123013 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:38:23.444  INFO 123013 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:38:23.495  INFO 123013 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:38:23.609  INFO 123013 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:38:23.729  INFO 123013 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:38:24.782  INFO 123013 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:38:24.788  INFO 123013 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:38:24.857  WARN 123013 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:38:25.720  INFO 123013 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:38:25.926  INFO 123013 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:38:25.926  INFO 123013 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:38:25.926  INFO 123013 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:38:25.926  INFO 123013 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:38:25.999  INFO 123013 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32245b66, org.springframework.security.web.context.SecurityContextPersistenceFilter@17f8cad6, org.springframework.security.web.header.HeaderWriterFilter@3b3f62d7, org.springframework.security.web.authentication.logout.LogoutFilter@627d5f99, com.miro.flightadvisor.security.services.JwtTokenFilter@19355a56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a85dc58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32e5fb4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ff23bd1, org.springframework.security.web.session.SessionManagementFilter@7910e307, org.springframework.security.web.access.ExceptionTranslationFilter@6369d01c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@89465d9]
2020-05-31 21:38:26.045  INFO 123013 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:38:26.061  INFO 123013 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:38:26.068  INFO 123013 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:38:26.880  INFO 123013 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 41815 (http) with context path ''
2020-05-31 21:38:26.881  INFO 123013 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:38:26.896  INFO 123013 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:38:26.934  INFO 123013 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:38:27.105  INFO 123013 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:38:27.106  INFO 123013 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:38:27.137  INFO 123013 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:38:27.384  INFO 123013 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:38:27.393  INFO 123013 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.282 seconds (JVM running for 8.285)
2020-05-31 21:38:27.628  INFO 123013 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:38:27.628  INFO 123013 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:38:27.642  INFO 123013 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:38:27.657  INFO 123013 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:38:27.735  INFO 123013 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:38:28.221  INFO 123013 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:38:28.231  INFO 123013 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:38:28.879  INFO 123013 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:38:28.971  INFO 123013 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:38:28.974  INFO 123013 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:38:28.975  INFO 123013 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:38:28.976  WARN 123013 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:38:28.977 ERROR 123013 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:38:28.977  WARN 123013 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:38:28.977 ERROR 123013 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:38:28.978  WARN 123013 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:38:28.978  INFO 123013 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:38:28.981  INFO 123013 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:41:22.202  INFO 123626 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 123626 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:41:22.203 DEBUG 123626 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:41:22.203  INFO 123626 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:41:23.262  INFO 123626 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:41:23.462  INFO 123626 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 193ms. Found 6 JPA repository interfaces.
2020-05-31 21:41:24.012  INFO 123626 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4dac121d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:41:24.022  INFO 123626 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:41:24.387  INFO 123626 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:41:24.398  INFO 123626 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:41:24.398  INFO 123626 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:41:24.475  INFO 123626 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:41:24.475  INFO 123626 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2249 ms
2020-05-31 21:41:24.661  INFO 123626 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:41:24.859  INFO 123626 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:41:24.869  INFO 123626 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:41:25.210  INFO 123626 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:41:25.269  INFO 123626 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:41:25.407  INFO 123626 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:41:25.520  INFO 123626 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:41:26.473  INFO 123626 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:41:26.479  INFO 123626 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:41:26.548  WARN 123626 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:41:27.403  INFO 123626 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:41:27.592  INFO 123626 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:41:27.593  INFO 123626 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:41:27.593  INFO 123626 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:41:27.593  INFO 123626 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:41:27.680  INFO 123626 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dfca9e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fd4b9ec, org.springframework.security.web.header.HeaderWriterFilter@17f8cad6, org.springframework.security.web.authentication.logout.LogoutFilter@46c2189e, com.miro.flightadvisor.security.services.JwtTokenFilter@7771c4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c8e4a82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@357cdb00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@113a6636, org.springframework.security.web.session.SessionManagementFilter@1d3e5a05, org.springframework.security.web.access.ExceptionTranslationFilter@720c0996, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@232b3b4c]
2020-05-31 21:41:27.740  INFO 123626 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:41:27.759  INFO 123626 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:41:27.767  INFO 123626 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:41:28.343  INFO 123626 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 38751 (http) with context path ''
2020-05-31 21:41:28.344  INFO 123626 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:41:28.359  INFO 123626 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:41:28.395  INFO 123626 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:41:28.585  INFO 123626 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:41:28.587  INFO 123626 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:41:28.619  INFO 123626 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:41:28.901  INFO 123626 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:41:28.912  INFO 123626 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 6.945 seconds (JVM running for 7.996)
2020-05-31 21:41:29.161  INFO 123626 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:41:29.162  INFO 123626 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:41:29.176  INFO 123626 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:41:29.189  INFO 123626 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:41:29.264  INFO 123626 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:41:29.698  INFO 123626 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:41:29.705  INFO 123626 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:41:29.726  INFO 123626 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:41:29.764  INFO 123626 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:41:29.851  INFO 123626 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:41:29.854  INFO 123626 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:41:29.855  INFO 123626 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:41:29.855  WARN 123626 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:41:29.856 ERROR 123626 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:41:29.856  WARN 123626 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:41:29.856 ERROR 123626 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:41:29.857  WARN 123626 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:41:29.857  INFO 123626 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:41:29.859  INFO 123626 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:42:24.949  INFO 124065 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 124065 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:42:24.949 DEBUG 124065 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:42:24.950  INFO 124065 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:42:26.196  INFO 124065 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:42:26.359  INFO 124065 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 156ms. Found 6 JPA repository interfaces.
2020-05-31 21:42:26.913  INFO 124065 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a9c5b75' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:42:26.923  INFO 124065 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:42:27.253  INFO 124065 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:42:27.264  INFO 124065 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:42:27.265  INFO 124065 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:42:27.353  INFO 124065 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:42:27.353  INFO 124065 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2381 ms
2020-05-31 21:42:27.570  INFO 124065 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:42:27.775  INFO 124065 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:42:27.784  INFO 124065 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:42:28.194  INFO 124065 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:42:28.254  INFO 124065 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:42:28.404  INFO 124065 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:42:28.521  INFO 124065 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:42:29.632  INFO 124065 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:42:29.638  INFO 124065 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:42:29.707  WARN 124065 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:42:30.660  INFO 124065 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:42:30.869  INFO 124065 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:42:30.869  INFO 124065 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:42:30.869  INFO 124065 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:42:30.869  INFO 124065 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:42:30.945  INFO 124065 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41c88e00, org.springframework.security.web.context.SecurityContextPersistenceFilter@66d69cd2, org.springframework.security.web.header.HeaderWriterFilter@74797b90, org.springframework.security.web.authentication.logout.LogoutFilter@3ac326c0, com.miro.flightadvisor.security.services.JwtTokenFilter@4fea095b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11a7840f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fd4b9ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@354e2bff, org.springframework.security.web.session.SessionManagementFilter@7a85dc58, org.springframework.security.web.access.ExceptionTranslationFilter@5b3ee43e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ff23bd1]
2020-05-31 21:42:30.989  INFO 124065 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:42:31.006  INFO 124065 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:42:31.013  INFO 124065 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:42:31.673  INFO 124065 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 39119 (http) with context path ''
2020-05-31 21:42:31.674  INFO 124065 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:42:31.696  INFO 124065 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:42:31.742  INFO 124065 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:42:31.977  INFO 124065 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:42:31.980  INFO 124065 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:42:32.037  INFO 124065 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:42:32.381  INFO 124065 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:42:32.392  INFO 124065 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.706 seconds (JVM running for 8.754)
2020-05-31 21:42:32.620  INFO 124065 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:42:32.620  INFO 124065 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:42:32.634  INFO 124065 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:42:32.647  INFO 124065 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:42:32.710  INFO 124065 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:42:33.089  INFO 124065 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:42:33.098  INFO 124065 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:42:33.126  INFO 124065 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:42:33.159  INFO 124065 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:42:33.233  INFO 124065 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:42:33.236  INFO 124065 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:42:33.237  INFO 124065 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:42:33.238  WARN 124065 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:42:33.238 ERROR 124065 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:42:33.239  WARN 124065 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:42:33.239 ERROR 124065 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:42:33.239  WARN 124065 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:42:33.240  INFO 124065 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:42:33.242  INFO 124065 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:43:25.371  INFO 124511 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 124511 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:43:25.371 DEBUG 124511 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:43:25.372  INFO 124511 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:43:26.430  INFO 124511 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:43:26.590  INFO 124511 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 152ms. Found 6 JPA repository interfaces.
2020-05-31 21:43:27.206  INFO 124511 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4dac121d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:43:27.225  INFO 124511 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:43:27.673  INFO 124511 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:43:27.687  INFO 124511 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:43:27.687  INFO 124511 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:43:27.768  INFO 124511 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:43:27.768  INFO 124511 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2378 ms
2020-05-31 21:43:27.982  INFO 124511 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:43:28.246  INFO 124511 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:43:28.254  INFO 124511 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:43:28.599  INFO 124511 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:43:28.658  INFO 124511 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:43:28.798  INFO 124511 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:43:28.908  INFO 124511 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:43:29.966  INFO 124511 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:43:29.973  INFO 124511 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:43:30.058  WARN 124511 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:43:31.065  INFO 124511 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:43:31.271  INFO 124511 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:43:31.272  INFO 124511 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:43:31.272  INFO 124511 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:43:31.272  INFO 124511 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:43:31.350  INFO 124511 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dfca9e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fd4b9ec, org.springframework.security.web.header.HeaderWriterFilter@17f8cad6, org.springframework.security.web.authentication.logout.LogoutFilter@46c2189e, com.miro.flightadvisor.security.services.JwtTokenFilter@7771c4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c8e4a82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@357cdb00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@113a6636, org.springframework.security.web.session.SessionManagementFilter@1d3e5a05, org.springframework.security.web.access.ExceptionTranslationFilter@720c0996, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@232b3b4c]
2020-05-31 21:43:31.412  INFO 124511 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:43:31.432  INFO 124511 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:43:31.440  INFO 124511 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:43:32.071  INFO 124511 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 42101 (http) with context path ''
2020-05-31 21:43:32.072  INFO 124511 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:43:32.086  INFO 124511 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:43:32.123  INFO 124511 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:43:32.297  INFO 124511 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:43:32.299  INFO 124511 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:43:32.326  INFO 124511 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:43:32.612  INFO 124511 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:43:32.623  INFO 124511 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.497 seconds (JVM running for 8.787)
2020-05-31 21:43:32.875  INFO 124511 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:43:32.875  INFO 124511 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:43:32.892  INFO 124511 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2020-05-31 21:43:32.907  INFO 124511 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:43:32.980  INFO 124511 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:43:33.397  INFO 124511 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:43:33.405  INFO 124511 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:43:33.431  INFO 124511 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:43:33.463  INFO 124511 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:43:33.539  INFO 124511 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:43:33.544  INFO 124511 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:43:33.544  INFO 124511 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:43:33.545  WARN 124511 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:43:33.546 ERROR 124511 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:43:33.546  WARN 124511 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:43:33.546 ERROR 124511 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:43:33.547  WARN 124511 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:43:33.547  INFO 124511 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:43:33.550  INFO 124511 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:44:10.271  INFO 124950 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 124950 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:44:10.272 DEBUG 124950 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:44:10.273  INFO 124950 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:44:11.474  INFO 124950 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:44:11.626  INFO 124950 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145ms. Found 6 JPA repository interfaces.
2020-05-31 21:44:12.200  INFO 124950 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a9c5b75' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:44:12.211  INFO 124950 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:44:12.555  INFO 124950 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:44:12.567  INFO 124950 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:44:12.568  INFO 124950 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:44:12.655  INFO 124950 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:44:12.655  INFO 124950 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2358 ms
2020-05-31 21:44:12.877  INFO 124950 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:44:13.076  INFO 124950 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:44:13.086  INFO 124950 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:44:13.407  INFO 124950 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:44:13.460  INFO 124950 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:44:13.599  INFO 124950 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:44:13.723  INFO 124950 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:44:14.756  INFO 124950 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:44:14.762  INFO 124950 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:44:14.837  WARN 124950 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:44:15.725  INFO 124950 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:44:15.913  INFO 124950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:44:15.913  INFO 124950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:44:15.913  INFO 124950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:44:15.913  INFO 124950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:44:15.994  INFO 124950 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@354e2bff, org.springframework.security.web.context.SecurityContextPersistenceFilter@11a7840f, org.springframework.security.web.header.HeaderWriterFilter@720c0996, org.springframework.security.web.authentication.logout.LogoutFilter@5b028f58, com.miro.flightadvisor.security.services.JwtTokenFilter@232b3b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f5c757c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c8e4a82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@261609a7, org.springframework.security.web.session.SessionManagementFilter@7f9e6167, org.springframework.security.web.access.ExceptionTranslationFilter@18a38bba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@729c8def]
2020-05-31 21:44:16.055  INFO 124950 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:44:16.073  INFO 124950 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:44:16.079  INFO 124950 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:44:16.790  INFO 124950 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 45675 (http) with context path ''
2020-05-31 21:44:16.792  INFO 124950 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:44:16.812  INFO 124950 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:44:16.850  INFO 124950 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:44:17.057  INFO 124950 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:44:17.060  INFO 124950 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:44:17.095  INFO 124950 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:44:17.462  INFO 124950 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:44:17.473  INFO 124950 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.46 seconds (JVM running for 8.501)
2020-05-31 21:44:17.709  INFO 124950 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:44:17.709  INFO 124950 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:44:17.722  INFO 124950 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-05-31 21:44:17.736  INFO 124950 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:44:17.808  INFO 124950 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:44:18.242  INFO 124950 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:44:18.249  INFO 124950 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:44:18.270  INFO 124950 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:44:18.299  INFO 124950 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:44:18.370  INFO 124950 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:44:18.375  INFO 124950 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:44:18.376  INFO 124950 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:44:18.377  WARN 124950 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:44:18.378 ERROR 124950 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:44:18.379  WARN 124950 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:44:18.379 ERROR 124950 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:44:18.380  WARN 124950 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:44:18.380  INFO 124950 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:44:18.383  INFO 124950 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:45:17.687  INFO 125406 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 125406 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:45:17.688 DEBUG 125406 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:45:17.688  INFO 125406 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:45:18.880  INFO 125406 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:45:19.082  INFO 125406 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 193ms. Found 6 JPA repository interfaces.
2020-05-31 21:45:19.664  INFO 125406 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a9c5b75' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:45:19.674  INFO 125406 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:45:20.007  INFO 125406 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:45:20.018  INFO 125406 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:45:20.019  INFO 125406 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:45:20.108  INFO 125406 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:45:20.109  INFO 125406 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2397 ms
2020-05-31 21:45:20.301  INFO 125406 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:45:20.475  INFO 125406 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:45:20.483  INFO 125406 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:45:20.770  INFO 125406 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:45:20.823  INFO 125406 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:45:20.956  INFO 125406 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:45:21.079  INFO 125406 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:45:22.058  INFO 125406 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:45:22.065  INFO 125406 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:45:22.133  WARN 125406 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:45:23.077  INFO 125406 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:45:23.268  INFO 125406 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:45:23.268  INFO 125406 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:45:23.268  INFO 125406 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:45:23.268  INFO 125406 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:45:23.357  INFO 125406 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@232b3b4c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d3e5a05, org.springframework.security.web.header.HeaderWriterFilter@7910e307, org.springframework.security.web.authentication.logout.LogoutFilter@1e4d93f7, com.miro.flightadvisor.security.services.JwtTokenFilter@261609a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52fec840, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1896299b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39296cef, org.springframework.security.web.session.SessionManagementFilter@66d69cd2, org.springframework.security.web.access.ExceptionTranslationFilter@58ca6ba3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41c88e00]
2020-05-31 21:45:23.411  INFO 125406 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:45:23.429  INFO 125406 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:45:23.436  INFO 125406 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:45:24.124  INFO 125406 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 39207 (http) with context path ''
2020-05-31 21:45:24.126  INFO 125406 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:45:24.146  INFO 125406 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:45:24.181  INFO 125406 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:45:24.355  INFO 125406 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:45:24.357  INFO 125406 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:45:24.385  INFO 125406 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:45:24.665  INFO 125406 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:45:24.675  INFO 125406 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.329 seconds (JVM running for 8.313)
2020-05-31 21:45:24.888  INFO 125406 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:45:24.888  INFO 125406 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:45:24.900  INFO 125406 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-05-31 21:45:24.913  INFO 125406 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:45:24.979  INFO 125406 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:45:25.357  INFO 125406 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:45:25.366  INFO 125406 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:45:25.432  INFO 125406 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:45:25.437  INFO 125406 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:45:25.437  INFO 125406 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:45:25.439  WARN 125406 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:45:25.439 ERROR 125406 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:45:25.440  WARN 125406 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:45:25.440 ERROR 125406 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:45:25.440  WARN 125406 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:45:25.441  INFO 125406 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:45:25.444  INFO 125406 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:46:04.476  INFO 120359 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:46:04.479  INFO 120359 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:46:04.480  INFO 120359 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:46:04.487  INFO 120359 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:46:04.490  INFO 120359 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:46:07.808  INFO 125845 --- [main] c.m.f.FlightAdvisorServiceApplication    : Starting FlightAdvisorServiceApplication on ubuntu with PID 125845 (/home/miro/IdeaProjects/flight-advisor/target/classes started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:46:07.809 DEBUG 125845 --- [main] c.m.f.FlightAdvisorServiceApplication    : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:46:07.810  INFO 125845 --- [main] c.m.f.FlightAdvisorServiceApplication    : No active profile set, falling back to default profiles: default
2020-05-31 21:46:08.753  INFO 125845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:46:08.804  INFO 125845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 JPA repository interfaces.
2020-05-31 21:46:09.026  INFO 125845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@35d5ac51' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:46:09.030  INFO 125845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:46:09.200  INFO 125845 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-05-31 21:46:09.206  INFO 125845 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:46:09.207  INFO 125845 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:46:09.267  INFO 125845 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:46:09.267  INFO 125845 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1418 ms
2020-05-31 21:46:09.425  INFO 125845 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:46:09.495  INFO 125845 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:46:09.499  INFO 125845 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:46:09.619  INFO 125845 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:46:09.644  INFO 125845 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:46:09.706  INFO 125845 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:46:09.767  INFO 125845 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:46:10.285  INFO 125845 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:46:10.290  INFO 125845 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:46:10.357  WARN 125845 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:46:10.942  INFO 125845 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:46:11.059  INFO 125845 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:46:11.059  INFO 125845 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:46:11.059  INFO 125845 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:46:11.059  INFO 125845 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:46:11.093  INFO 125845 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@575d48db, org.springframework.security.web.context.SecurityContextPersistenceFilter@3cb49121, org.springframework.security.web.header.HeaderWriterFilter@4b7e4d14, org.springframework.security.web.authentication.logout.LogoutFilter@54737322, com.miro.flightadvisor.security.services.JwtTokenFilter@1b36d248, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c4215d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ebd8d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e94de5f, org.springframework.security.web.session.SessionManagementFilter@5e360c3b, org.springframework.security.web.access.ExceptionTranslationFilter@7d4da729, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51468039]
2020-05-31 21:46:11.115  INFO 125845 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:46:11.131  INFO 125845 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:46:11.132  INFO 125845 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:46:11.594  INFO 125845 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-05-31 21:46:11.595  INFO 125845 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:46:11.605  INFO 125845 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:46:11.635  INFO 125845 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:46:11.771  INFO 125845 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:46:11.773  INFO 125845 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:46:11.791  INFO 125845 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:46:12.001  INFO 125845 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:46:12.012  INFO 125845 --- [main] c.m.f.FlightAdvisorServiceApplication    : Started FlightAdvisorServiceApplication in 4.455 seconds (JVM running for 4.954)
2020-05-31 21:46:12.465  INFO 125845 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:46:12.466  INFO 125845 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:46:12.475  INFO 125845 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-05-31 21:46:27.269  INFO 126326 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 126326 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:46:27.270 DEBUG 126326 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:46:27.270  INFO 126326 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:46:28.458  INFO 126326 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:46:28.623  INFO 126326 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158ms. Found 6 JPA repository interfaces.
2020-05-31 21:46:29.182  INFO 126326 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@991cbde' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:46:29.194  INFO 126326 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:46:29.591  INFO 126326 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:46:29.607  INFO 126326 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:46:29.608  INFO 126326 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:46:29.698  INFO 126326 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:46:29.698  INFO 126326 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2412 ms
2020-05-31 21:46:29.938  INFO 126326 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:46:30.168  INFO 126326 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:46:30.182  INFO 126326 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:46:30.599  INFO 126326 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:46:30.659  INFO 126326 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:46:30.789  INFO 126326 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:46:30.910  INFO 126326 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:46:32.012  INFO 126326 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:46:32.017  INFO 126326 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:46:32.089  WARN 126326 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:46:32.956  INFO 126326 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:46:33.142  INFO 126326 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:46:33.143  INFO 126326 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:46:33.143  INFO 126326 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:46:33.143  INFO 126326 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:46:33.224  INFO 126326 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41c88e00, org.springframework.security.web.context.SecurityContextPersistenceFilter@66d69cd2, org.springframework.security.web.header.HeaderWriterFilter@74797b90, org.springframework.security.web.authentication.logout.LogoutFilter@3ac326c0, com.miro.flightadvisor.security.services.JwtTokenFilter@4fea095b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11a7840f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fd4b9ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@354e2bff, org.springframework.security.web.session.SessionManagementFilter@7a85dc58, org.springframework.security.web.access.ExceptionTranslationFilter@5b3ee43e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ff23bd1]
2020-05-31 21:46:33.273  INFO 126326 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:46:33.290  INFO 126326 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:46:33.297  INFO 126326 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:46:33.986  INFO 126326 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 42425 (http) with context path ''
2020-05-31 21:46:33.987  INFO 126326 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:46:34.003  INFO 126326 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:46:34.041  INFO 126326 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:46:34.216  INFO 126326 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:46:34.218  INFO 126326 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:46:34.246  INFO 126326 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:46:34.551  INFO 126326 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:46:34.562  INFO 126326 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.583 seconds (JVM running for 8.735)
2020-05-31 21:46:34.827  INFO 126326 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:46:34.828  INFO 126326 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:46:34.847  INFO 126326 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:46:34.862  INFO 126326 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:46:34.932  INFO 126326 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:46:35.368  INFO 126326 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:46:35.372  INFO 126326 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:46:35.438  INFO 126326 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:46:35.443  INFO 126326 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:46:35.444  INFO 126326 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:46:35.447  WARN 126326 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:46:35.447 ERROR 126326 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:46:35.448  WARN 126326 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:46:35.448 ERROR 126326 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:46:35.448  WARN 126326 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:46:35.449  INFO 126326 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:46:35.452  INFO 126326 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:50:05.905  INFO 126809 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 126809 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:50:05.906 DEBUG 126809 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:50:05.907  INFO 126809 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:50:07.218  INFO 126809 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:50:07.402  INFO 126809 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 176ms. Found 6 JPA repository interfaces.
2020-05-31 21:50:08.016  INFO 126809 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@991cbde' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:50:08.026  INFO 126809 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:50:08.372  INFO 126809 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:50:08.384  INFO 126809 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:50:08.385  INFO 126809 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:50:08.481  INFO 126809 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:50:08.481  INFO 126809 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2509 ms
2020-05-31 21:50:08.759  INFO 126809 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:50:08.995  INFO 126809 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:50:09.006  INFO 126809 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:50:09.451  INFO 126809 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:50:09.523  INFO 126809 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:50:09.736  INFO 126809 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:50:09.925  INFO 126809 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:50:11.075  INFO 126809 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:50:11.081  INFO 126809 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:50:11.150  WARN 126809 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:50:11.986  INFO 126809 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:50:12.163  INFO 126809 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:50:12.163  INFO 126809 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:50:12.163  INFO 126809 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:50:12.163  INFO 126809 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:50:12.225  INFO 126809 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41c88e00, org.springframework.security.web.context.SecurityContextPersistenceFilter@66d69cd2, org.springframework.security.web.header.HeaderWriterFilter@74797b90, org.springframework.security.web.authentication.logout.LogoutFilter@3ac326c0, com.miro.flightadvisor.security.services.JwtTokenFilter@4fea095b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11a7840f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fd4b9ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@354e2bff, org.springframework.security.web.session.SessionManagementFilter@7a85dc58, org.springframework.security.web.access.ExceptionTranslationFilter@5b3ee43e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ff23bd1]
2020-05-31 21:50:12.277  INFO 126809 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:50:12.293  INFO 126809 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:50:12.301  INFO 126809 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:50:12.915  INFO 126809 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 39857 (http) with context path ''
2020-05-31 21:50:12.916  INFO 126809 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:50:12.933  INFO 126809 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:50:12.976  INFO 126809 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:50:13.165  INFO 126809 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:50:13.167  INFO 126809 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:50:13.197  INFO 126809 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:50:13.552  INFO 126809 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:50:13.565  INFO 126809 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.894 seconds (JVM running for 8.931)
2020-05-31 21:50:13.831  INFO 126809 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:50:13.831  INFO 126809 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:50:13.845  INFO 126809 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:50:13.859  INFO 126809 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:50:13.940  INFO 126809 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:50:14.318  INFO 126809 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:50:14.322  INFO 126809 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:50:14.949  INFO 126809 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:50:14.954  INFO 126809 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:50:14.954  INFO 126809 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:50:14.956  WARN 126809 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:50:14.957 ERROR 126809 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:50:14.957  WARN 126809 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:50:14.957 ERROR 126809 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:50:14.958  WARN 126809 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:50:14.958  INFO 126809 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:50:14.961  INFO 126809 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:54:54.969  INFO 127459 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 127459 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:54:54.970 DEBUG 127459 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:54:54.970  INFO 127459 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:54:56.099  INFO 127459 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:54:56.259  INFO 127459 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 152ms. Found 6 JPA repository interfaces.
2020-05-31 21:54:56.773  INFO 127459 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@78d71df1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:54:56.787  INFO 127459 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:54:57.123  INFO 127459 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:54:57.134  INFO 127459 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:54:57.135  INFO 127459 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:54:57.214  INFO 127459 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:54:57.214  INFO 127459 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2228 ms
2020-05-31 21:54:57.407  INFO 127459 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:54:57.585  INFO 127459 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:54:57.592  INFO 127459 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:54:57.878  INFO 127459 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:54:57.930  INFO 127459 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:54:58.070  INFO 127459 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:54:58.178  INFO 127459 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:54:59.127  INFO 127459 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:54:59.133  INFO 127459 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:54:59.205  WARN 127459 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:55:00.320  INFO 127459 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:55:00.536  INFO 127459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:55:00.536  INFO 127459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:55:00.536  INFO 127459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:55:00.536  INFO 127459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:55:00.623  INFO 127459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9dbb1d9, org.springframework.security.web.context.SecurityContextPersistenceFilter@18a38bba, org.springframework.security.web.header.HeaderWriterFilter@63c6c5e5, org.springframework.security.web.authentication.logout.LogoutFilter@357cdb00, com.miro.flightadvisor.security.services.JwtTokenFilter@1bb0fa38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74797b90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@460aa24e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58e7f930, org.springframework.security.web.session.SessionManagementFilter@3b3f62d7, org.springframework.security.web.access.ExceptionTranslationFilter@46a0ef6f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@522fb69]
2020-05-31 21:55:00.683  INFO 127459 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:55:00.702  INFO 127459 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:55:00.710  INFO 127459 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:55:01.372  INFO 127459 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 35985 (http) with context path ''
2020-05-31 21:55:01.373  INFO 127459 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:55:01.388  INFO 127459 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:55:01.424  INFO 127459 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:55:01.597  INFO 127459 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:55:01.599  INFO 127459 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:55:01.631  INFO 127459 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:55:01.914  INFO 127459 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:55:01.925  INFO 127459 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.24 seconds (JVM running for 8.437)
2020-05-31 21:55:02.177  INFO 127459 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:55:02.177  INFO 127459 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:55:02.191  INFO 127459 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-05-31 21:55:02.205  INFO 127459 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:55:02.281  INFO 127459 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:55:02.685  INFO 127459 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:55:02.692  INFO 127459 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:55:03.313  INFO 127459 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:55:03.397  INFO 127459 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:55:03.402  INFO 127459 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:55:03.402  INFO 127459 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:55:03.404  WARN 127459 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:55:03.404 ERROR 127459 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:55:03.405  WARN 127459 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:55:03.405 ERROR 127459 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:55:03.405  WARN 127459 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:55:03.406  INFO 127459 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:55:03.409  INFO 127459 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:55:32.175  INFO 127900 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 127900 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:55:32.176 DEBUG 127900 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:55:32.177  INFO 127900 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:55:33.308  INFO 127900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:55:33.463  INFO 127900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148ms. Found 6 JPA repository interfaces.
2020-05-31 21:55:34.024  INFO 127900 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:55:34.041  INFO 127900 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:55:34.499  INFO 127900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:55:34.516  INFO 127900 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:55:34.517  INFO 127900 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:55:34.656  INFO 127900 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:55:34.657  INFO 127900 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2457 ms
2020-05-31 21:55:34.915  INFO 127900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:55:35.121  INFO 127900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:55:35.131  INFO 127900 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:55:35.463  INFO 127900 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:55:35.509  INFO 127900 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:55:35.631  INFO 127900 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:55:35.750  INFO 127900 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:55:36.942  INFO 127900 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:55:36.949  INFO 127900 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:55:37.026  WARN 127900 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:55:37.976  INFO 127900 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:55:38.190  INFO 127900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:55:38.190  INFO 127900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:55:38.190  INFO 127900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:55:38.190  INFO 127900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:55:38.268  INFO 127900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fea095b, org.springframework.security.web.context.SecurityContextPersistenceFilter@32e5fb4c, org.springframework.security.web.header.HeaderWriterFilter@7676b2b9, org.springframework.security.web.authentication.logout.LogoutFilter@5e5d40ec, com.miro.flightadvisor.security.services.JwtTokenFilter@354e2bff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d3e5a05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10553a61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@232b3b4c, org.springframework.security.web.session.SessionManagementFilter@2ee1b017, org.springframework.security.web.access.ExceptionTranslationFilter@53da2aec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62f305bc]
2020-05-31 21:55:38.342  INFO 127900 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:55:38.365  INFO 127900 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:55:38.375  INFO 127900 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:55:39.092  INFO 127900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 36721 (http) with context path ''
2020-05-31 21:55:39.093  INFO 127900 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:55:39.113  INFO 127900 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:55:39.159  INFO 127900 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:55:39.347  INFO 127900 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:55:39.350  INFO 127900 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:55:39.392  INFO 127900 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:55:39.685  INFO 127900 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:55:39.696  INFO 127900 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.771 seconds (JVM running for 8.758)
2020-05-31 21:55:39.970  INFO 127900 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:55:39.970  INFO 127900 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:55:39.986  INFO 127900 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-05-31 21:55:40.004  INFO 127900 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:55:40.081  INFO 127900 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:55:40.507  INFO 127900 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:55:40.515  INFO 127900 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:55:41.229  INFO 127900 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:55:41.329  INFO 127900 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:55:41.333  INFO 127900 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:55:41.333  INFO 127900 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:55:41.334  WARN 127900 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:55:41.334 ERROR 127900 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:55:41.335  WARN 127900 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:55:41.335 ERROR 127900 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:55:41.335  WARN 127900 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:55:41.336  INFO 127900 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:55:41.338  INFO 127900 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-31 21:55:54.806  INFO 128340 --- [main] c.m.f.controllers.CityControllerTest     : Starting CityControllerTest on ubuntu with PID 128340 (started by miro in /home/miro/IdeaProjects/flight-advisor)
2020-05-31 21:55:54.808 DEBUG 128340 --- [main] c.m.f.controllers.CityControllerTest     : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-05-31 21:55:54.809  INFO 128340 --- [main] c.m.f.controllers.CityControllerTest     : No active profile set, falling back to default profiles: default
2020-05-31 21:55:56.150  INFO 128340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-05-31 21:55:56.297  INFO 128340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139ms. Found 6 JPA repository interfaces.
2020-05-31 21:55:56.818  INFO 128340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26837057' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:55:56.830  INFO 128340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-31 21:55:57.148  INFO 128340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2020-05-31 21:55:57.159  INFO 128340 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-05-31 21:55:57.159  INFO 128340 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-05-31 21:55:57.253  INFO 128340 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-05-31 21:55:57.253  INFO 128340 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2405 ms
2020-05-31 21:55:57.508  INFO 128340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-05-31 21:55:57.786  INFO 128340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-05-31 21:55:57.794  INFO 128340 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2020-05-31 21:55:58.103  INFO 128340 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-31 21:55:58.150  INFO 128340 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final
2020-05-31 21:55:58.276  INFO 128340 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-31 21:55:58.396  INFO 128340 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-05-31 21:55:59.441  INFO 128340 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-31 21:55:59.448  INFO 128340 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:55:59.522  WARN 128340 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-05-31 21:56:00.412  INFO 128340 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-05-31 21:56:00.585  INFO 128340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-resources/**'], []
2020-05-31 21:56:00.585  INFO 128340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/swagger-ui.html'], []
2020-05-31 21:56:00.585  INFO 128340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/v2/api-docs'], []
2020-05-31 21:56:00.585  INFO 128340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/webjars/**'], []
2020-05-31 21:56:00.657  INFO 128340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19355a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@698e1bf5, org.springframework.security.web.header.HeaderWriterFilter@5b3ee43e, org.springframework.security.web.authentication.logout.LogoutFilter@44e3f3e5, com.miro.flightadvisor.security.services.JwtTokenFilter@1ff23bd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee1b017, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11a7840f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62f305bc, org.springframework.security.web.session.SessionManagementFilter@460aa24e, org.springframework.security.web.access.ExceptionTranslationFilter@54e680fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fdd3382]
2020-05-31 21:56:00.705  INFO 128340 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-31 21:56:00.724  INFO 128340 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2020-05-31 21:56:00.731  INFO 128340 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'importExecutor'
2020-05-31 21:56:01.384  INFO 128340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 39651 (http) with context path ''
2020-05-31 21:56:01.385  INFO 128340 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-05-31 21:56:01.406  INFO 128340 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-05-31 21:56:01.444  INFO 128340 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-05-31 21:56:01.653  INFO 128340 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2020-05-31 21:56:01.656  INFO 128340 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2020-05-31 21:56:01.690  INFO 128340 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2020-05-31 21:56:01.984  INFO 128340 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-05-31 21:56:01.995  INFO 128340 --- [main] c.m.f.controllers.CityControllerTest     : Started CityControllerTest in 7.71 seconds (JVM running for 9.044)
2020-05-31 21:56:02.252  INFO 128340 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-31 21:56:02.252  INFO 128340 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-05-31 21:56:02.266  INFO 128340 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-05-31 21:56:02.281  INFO 128340 --- [http-nio-auto-1-exec-1] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:56:02.352  INFO 128340 --- [http-nio-auto-1-exec-1] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:56:02.777  INFO 128340 --- [http-nio-auto-1-exec-2] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:56:02.783  INFO 128340 --- [http-nio-auto-1-exec-2] c.m.f.security.services.UserService      : New user attempting to sign in
2020-05-31 21:56:03.407  INFO 128340 --- [http-nio-auto-1-exec-3] c.m.f.security.services.JwtTokenFilter   : Process request to check for a JSON Web Token 
2020-05-31 21:56:03.492  INFO 128340 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'importExecutor'
2020-05-31 21:56:03.495  INFO 128340 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-31 21:56:03.496  INFO 128340 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-05-31 21:56:03.497  WARN 128340 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:56:03.497 ERROR 128340 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:56:03.498  WARN 128340 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2020-05-31 21:56:03.498 ERROR 128340 --- [SpringContextShutdownHook] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2020-05-31 21:56:03.498  WARN 128340 --- [SpringContextShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2020-05-31 21:56:03.498  INFO 128340 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-31 21:56:03.501  INFO 128340 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
